{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 596ccee0e11bf735a089","webpack:///./quill.js","webpack:///./core.js","webpack:///./core/quill.js","webpack:///./~/rich-text/lib/delta.js","webpack:///./~/rich-text/~/fast-diff/diff.js","webpack:///./~/deep-equal/index.js","webpack:///./~/deep-equal/lib/keys.js","webpack:///./~/deep-equal/lib/is_arguments.js","webpack:///./~/rich-text/lib/op.js","webpack:///./core/editor.js","webpack:///./core/emitter.js","webpack:///./~/eventemitter3/index.js","webpack:///./core/logger.js","webpack:///./~/parchment/src/parchment.ts","webpack:///./~/parchment/src/blot/abstract/container.ts","webpack:///./~/parchment/src/collection/linked-list.ts","webpack:///./~/parchment/src/blot/abstract/shadow.ts","webpack:///./~/parchment/src/registry.ts","webpack:///./~/parchment/src/attributor/attributor.ts","webpack:///./~/parchment/src/blot/abstract/format.ts","webpack:///./~/parchment/src/attributor/store.ts","webpack:///./~/parchment/src/blot/abstract/leaf.ts","webpack:///./~/parchment/src/blot/abstract/embed.ts","webpack:///./~/parchment/src/blot/scroll.ts","webpack:///./~/parchment/src/blot/inline.ts","webpack:///./~/parchment/src/blot/block.ts","webpack:///./~/parchment/src/blot/text.ts","webpack:///./~/parchment/src/attributor/class.ts","webpack:///./~/parchment/src/attributor/style.ts","webpack:///./blots/block.js","webpack:///./blots/break.js","webpack:///./~/extend/index.js","webpack:///./~/clone/clone.js","webpack:///./core/selection.js","webpack:///./core/theme.js","webpack:///./blots/cursor.js","webpack:///./blots/inline.js","webpack:///./blots/scroll.js","webpack:///./modules/clipboard.js","webpack:///./core/module.js","webpack:///./modules/keyboard.js","webpack:///./modules/undo-manager.js","webpack:///./formats/align.js","webpack:///./formats/direction.js","webpack:///./formats/indent.js","webpack:///./formats/blockquote.js","webpack:///./formats/header.js","webpack:///./formats/list.js","webpack:///./formats/background.js","webpack:///./formats/color.js","webpack:///./formats/font.js","webpack:///./formats/size.js","webpack:///./formats/bold.js","webpack:///./formats/italic.js","webpack:///./formats/link.js","webpack:///./formats/script.js","webpack:///./formats/strike.js","webpack:///./formats/underline.js","webpack:///./formats/formula.js","webpack:///./formats/image.js","webpack:///./formats/video.js","webpack:///./formats/code.js","webpack:///./modules/image-tooltip.js","webpack:///./modules/link-tooltip.js","webpack:///./modules/toolbar.js","webpack:///./themes/bubble.js","webpack:///./themes/base.js","webpack:///./ui/picker.js","webpack:///./assets/icons/dropdown.svg","webpack:///./ui/icons.js","webpack:///./assets/icons/align-left.svg","webpack:///./assets/icons/align-center.svg","webpack:///./assets/icons/align-right.svg","webpack:///./assets/icons/align-justify.svg","webpack:///./assets/icons/background.svg","webpack:///./assets/icons/blockquote.svg","webpack:///./assets/icons/bold.svg","webpack:///./assets/icons/color.svg","webpack:///./assets/icons/italic.svg","webpack:///./assets/icons/header.svg","webpack:///./assets/icons/header-2.svg","webpack:///./assets/icons/image.svg","webpack:///./assets/icons/link.svg","webpack:///./assets/icons/list-ordered.svg","webpack:///./assets/icons/list-bullet.svg","webpack:///./assets/icons/strike.svg","webpack:///./assets/icons/underline.svg","webpack:///./themes/snow.js","webpack:///./ui/color-picker.js","webpack:///./ui/icon-picker.js"],"names":[],"mappings":"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AAkB,KAAlB,EAAyB,MAAzB,CAAT;AACJ,KAAI,QAAQ,MAAR;;AAEJ,UAAS,KAAT,CAAe,MAAf,EAAgC;AAC9B,OAAI,OAAO,OAAP,CAAe,MAAf,KAA0B,OAAO,OAAP,CAAe,KAAf,CAA1B,EAAiD;uCAD7B;;MAC6B;;AACnD,aAAQ,MAAR,EAAgB,KAAhB,CAAsB,OAAtB,EAA+B,IAA/B,EADmD;IAArD;EADF;;AAMA,UAAS,SAAT,CAAmB,EAAnB,EAAuB;AACrB,UAAO,OAAO,MAAP,CAAc,UAAS,MAAT,EAAiB,MAAjB,EAAyB;AAC5C,YAAO,MAAP,IAAiB,MAAM,IAAN,CAAW,OAAX,EAAoB,MAApB,EAA4B,EAA5B,CAAjB,CAD4C;AAE5C,YAAO,MAAP,CAF4C;IAAzB,EAGlB,EAHI,CAAP,CADqB;EAAvB;;AAOA,OAAM,KAAN,GAAc,UAAU,KAAV,GAAkB,UAAS,QAAT,EAAmB;AACjD,WAAQ,QAAR,CADiD;EAAnB;;mBAKjB,U;;;;;;ACrBf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,cAAc;AAC5D;;;;;;;ACpCA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,WAAW;AAC1C,iCAAgC,2BAA2B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACtMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,qBAAqB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,oBAAoB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,gBAAgB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AC/IA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;;;;;;ACrIA;AACA;AACA;AACA;AACA,kCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACtCA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,6CAA4C;AAC5C;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,IAAI;AACb;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACxEA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACjBA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACtCA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,gBAAgB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACrIA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AClDA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACrCA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,mBAAmB;AACtD;AACA;AACA;AACA,gCAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AClFA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD;AACrD;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACzCA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;;;;;;;;;;;;ACrCA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;AAGA,KAAM,iBAAiB,CAAjB;;KAGA;;;;;;;;;;;8BACK;AACP,kCAFE,iDAEF,CADO;AAEP,YAAK,UAAL,GAAkB,IAAI,oBAAU,UAAV,CAAqB,KAArB,CAA2B,KAAK,OAAL,CAAjD,CAFO;;;;6BAKD;AACN,WAAI,QAAQ,EAAR,CADE;AAEN,aAAM,KAAK,OAAL,CAAa,QAAb,CAAN,GAA+B,KAAK,KAAL,EAA/B,CAFM;AAGN,cAAO,sBAAY,MAAZ,CAAmB,KAAnB,EAA0B,KAAK,OAAL,EAA1B,EAA0C,MAA1C,CAAiD,IAAjD,EAAuD,KAAK,UAAL,CAAgB,MAAhB,EAAvD,CAAP,CAHM;;;;UANJ;GAAmB,oBAAU,KAAV;;AAYzB,YAAW,KAAX,GAAmB,oBAAU,KAAV,CAAgB,UAAhB;;;K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","file":"quill.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Quill\"] = factory();\n\telse\n\t\troot[\"Quill\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 596ccee0e11bf735a089\n **/","import Quill from './core';\n\nimport { AlignClass as Align } from './formats/align';\nimport { DirectionClass as Direction } from './formats/direction';\nimport { IndentClass as Indent } from './formats/indent';\n\nimport Blockquote from './formats/blockquote';\nimport Header from './formats/header';\nimport List, { ListItem } from './formats/list';\n\nimport { BackgroundStyle as Background } from './formats/background';\nimport { ColorStyle as Color } from './formats/color';\nimport { FontClass as Font } from './formats/font';\nimport { SizeClass as Size } from './formats/size';\n\nimport Bold from './formats/bold';\nimport Italic from './formats/italic';\nimport Link from './formats/link';\nimport Script from './formats/script';\nimport Strike from './formats/strike';\nimport Underline from './formats/underline';\n\nimport Formula from './formats/formula';\nimport Image from './formats/image';\nimport Video from './formats/video';\n\nimport CodeBlock, { Code } from './formats/code';\n\nimport ImageTooltip from './modules/image-tooltip';\nimport LinkTooltip from './modules/link-tooltip';\nimport ToolbarModule from './modules/toolbar';\n\nimport BubbleTheme from './themes/bubble';\nimport SnowTheme from './themes/snow';\n\n\nQuill.register(Align, Blockquote, CodeBlock, Direction, Header, Indent, List, ListItem);\nQuill.register(Background, Bold, Code, Color, Font, Italic, Link, Script, Size, Strike, Underline);\nQuill.register(Formula, Image, Video);\n\nQuill.register('image-tooltip', ImageTooltip);\nQuill.register('link-tooltip', LinkTooltip);\nQuill.register('toolbar', ToolbarModule);\n\nQuill.register('bubble', BubbleTheme);\nQuill.register('snow', SnowTheme);\n\n\nmodule.exports = Quill;\n\n\n\n/** WEBPACK FOOTER **\n ** ./quill.js\n **/","import Quill from './core/quill';\nimport Parchment from 'parchment';\n\nimport Block from './blots/block';\nimport Break from './blots/break';\nimport Cursor from './blots/cursor';\nimport Inline from './blots/inline';\nimport Scroll from './blots/scroll';\n\nimport Clipboard from './modules/clipboard';\nimport Keyboard from './modules/keyboard';\nimport UndoManager from './modules/undo-manager';\n\nQuill.register(Block, Break, Cursor, Inline, Scroll, Parchment.Text);\n\nQuill.register('clipboard', Clipboard);\nQuill.register('keyboard', Keyboard);\nQuill.register('undo-manager', UndoManager);\n\n\nexport default Quill;\n\n\n\n/** WEBPACK FOOTER **\n ** ./core.js\n **/","import Delta from 'rich-text/lib/delta';\nimport Editor from './editor';\nimport Emitter from './emitter';\nimport Parchment from 'parchment';\nimport Selection, { Range } from './selection';\nimport extend from 'extend';\nimport logger from './logger';\nimport Theme from './theme';\n\nlet debug = logger('[quill]');\n\n\nclass Quill {\n  static debug(limit) {\n    logger.level(limit);\n  }\n\n  static register(...args) {\n    if (typeof args[0] === 'string') {\n      let [name, target] = args;\n      if (target.prototype instanceof Theme) {\n        if (Theme.themes[name] != null) debug.warn(`overwriting ${name} theme`);\n        Theme.themes[name] = target;\n      } else {\n        if (Theme.modules[name] != null) debug.warn(`overwriting ${name} module`);\n        Theme.modules[name] = target;\n      }\n    } else {\n      args.forEach(function(format) {\n        let name = format.attrName || format.blotName;\n        if (Parchment.query(name)) debug.warn(`Overwriting ${name} format`);\n        Parchment.register(format);\n      });\n    }\n  }\n\n  constructor(container, options = {}) {\n    this.container = typeof container === 'string' ? document.querySelector(container) : container;\n    if (this.container == null) {\n      return debug.error('Invalid Quill container', container);\n    }\n    let themeClass = Theme.themes[options.theme || Quill.DEFAULTS.theme];\n    if (themeClass == null) {\n      return debug.error(`Cannot load ${options.theme} theme. It may not be registered. Loading default theme.`);\n    }\n    options = extend(true, {}, Quill.DEFAULTS, themeClass.DEFAULTS, options);\n    let html = this.container.innerHTML;\n    this.container.classList.add('ql-container');\n    this.container.innerHTML = '';\n    // TODO scroll will reset innerHTML as well, do not do twice\n    this.root = this.addContainer('ql-editor');\n    this.root.innerHTML = html.trim();\n    this.emitter = new Emitter();\n    this.scroll = Parchment.create(this.root, this.emitter);\n    this.editor = new Editor(this.scroll, this.emitter);\n    this.selection = new Selection(this.scroll, this.emitter);\n    this.theme = new themeClass(this, options);\n    this.keyboard = this.theme.addModule('keyboard');\n    this.clipboard = this.theme.addModule('clipboard');\n    this.undoManager = this.theme.addModule('undo-manager');\n    if (options.readOnly) {\n      this.disable();\n    }\n    this.emitter.emit(Emitter.events.READY);\n  }\n\n  addContainer(container, refNode = null) {\n    if (typeof container === 'string') {\n      let className = container;\n      container = document.createElement('div');\n      container.classList.add(className);\n    }\n    this.container.insertBefore(container, refNode);\n    return container;\n  }\n\n  deleteText(index, length, source = Emitter.sources.API) {\n    [index, length, , source] = overload(index, length, source);\n    this.editor.deleteText(index, length, source);\n  }\n\n  disable() {\n    this.editor.enable(false);\n  }\n\n  enable(enabled = true) {\n    this.editor.enable(enabled);\n  }\n\n  focus() {\n    this.selection.focus();\n  }\n\n  format(name, value, source = Emitter.sources.API) {\n    let range = this.getSelection();\n    if (range == null) return;\n    if (Parchment.query(name, Parchment.Scope.BLOCK)) {\n      this.formatLine(range, name, value, source);\n    } else if (range.length === 0) {\n      return this.selection.format(name, value);\n    } else {\n      this.formatText(range, name, value, source);\n    }\n    this.setSelection(range, Emitter.sources.SILENT);\n  }\n\n  formatLine(index, length, name, value, source) {\n    let formats;\n    [index, length, formats, source] = overload(index, length, name, value, source);\n    this.editor.formatLine(index, length, formats, source);\n  }\n\n  formatText(index, length, name, value, source) {\n    let formats;\n    [index, length, formats, source] = overload(index, length, name, value, source);\n    this.editor.formatText(index, length, formats, source);\n  }\n\n  getBounds(index, length = 0) {\n    if (typeof index === 'number') {\n      return this.selection.getBounds(index, length);\n    } else {\n      return this.selection.getBounds(index.index, index.length);\n    }\n  }\n\n  getContents(index = 0, length = this.getLength() - index) {\n    [index, length] = overload(index, length);\n    return this.editor.getContents(index, length);\n  }\n\n  getFormat(index = this.getSelection(), length = 0) {\n    if (typeof index === 'number') {\n      return this.editor.getFormat(index, length);\n    } else {\n      return this.editor.getFormat(index.index, index.length);\n    }\n  }\n\n  getLength() {\n    return this.scroll.length();\n  }\n\n  getModule(name) {\n    return Theme.modules[name];\n  }\n\n  getSelection(focus = false) {\n    if (focus) this.focus();\n    this.update();  // Make sure we access getRange with editor in consistent state\n    return this.selection.getRange()[0];\n  }\n\n  getText(index = 0, length = this.getLength() - index) {\n    [index, length] = overload(index, length);\n    return this.editor.getText(index, length);\n  }\n\n  hasFocus() {\n    return this.selection.hasFocus();\n  }\n\n  insertEmbed(index, embed, value, source) {\n    this.editor.insertEmbed(index, embed, value, source);\n  }\n\n  insertText(index, text, name, value, source) {\n    let formats;\n    [index, , formats, source] = overload(index, 0, name, value, source);\n    this.editor.insertText(index, text, formats, source);\n  }\n\n  off() {\n    return this.emitter.off.apply(this.emitter, arguments);\n  }\n\n  on() {\n    return this.emitter.on.apply(this.emitter, arguments);\n  }\n\n  once() {\n    return this.emitter.once.apply(this.emitter, arguments);\n  }\n\n  setContents(delta, source = Emitter.sources.API) {\n    delta = new Delta(delta).slice();\n    delta.delete(this.getLength());\n    this.editor.applyDelta(delta);\n  }\n\n  setSelection(index, length = 0, source = Emitter.sources.API) {\n    [index, length, , source] = overload(index, length, source);\n    this.selection.setRange(new Range(index, length), source);\n  }\n\n  setText(text, source = Emitter.sources.API) {\n    let delta = new Delta().insert(text);\n    this.setContents(delta, source);\n  }\n\n  update(source = Emitter.sources.USER) {\n    this.scroll.update(source);       // Will update selection before selection.update() does if text changes\n    this.selection.update(source);\n  }\n\n  updateContents(delta, source = Emitter.sources.API) {\n    if (Array.isArray(delta)) {\n      delta = new Delta(delta.slice());\n    }\n    this.editor.applyDelta(delta, source);\n  }\n}\nQuill.DEFAULTS = {\n  formats: [],\n  modules: {},\n  readOnly: false,\n  theme: 'default'\n};\nQuill.events = Emitter.events;\nQuill.sources = Emitter.sources;\nQuill.version = QUILL_VERSION;\n\n\nfunction overload(index, length, name, value, source) {\n  let formats = {};\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\n    // Allow for throwaway end (used by insertText/insertEmbed)\n    if (typeof length !== 'number') {\n      source = value, value = name, name = length, length = index.length, index = index.index;\n    } else {\n      length = index.length, index = index.index;\n    }\n  } else if (typeof length !== 'number') {\n    source = value, value = name, name = length, length = 0;\n  }\n  // Handle format being object, two format name/value strings or excluded\n  if (typeof name === 'object') {\n    formats = name;\n    source = value;\n  } else if (typeof name === 'string') {\n    if (value != null) {\n      formats[name] = value;\n    } else {\n      source = name;\n    }\n  }\n  // Handle optional source\n  source = source || Emitter.sources.API;\n  return [index, length, formats, source];\n}\n\n\nexport { overload, Quill as default };\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/quill.js\n **/","var diff = require('fast-diff');\nvar equal = require('deep-equal');\nvar op = require('./op');\n\n\nvar NULL_CHARACTER = String.fromCharCode(0);  // Placeholder char for embed in diff()\n\n\nvar Delta = function (ops) {\n  // Assume we are given a well formed ops\n  if (Array.isArray(ops)) {\n    this.ops = ops;\n  } else if (ops != null && Array.isArray(ops.ops)) {\n    this.ops = ops.ops;\n  } else {\n    this.ops = [];\n  }\n};\n\n\nDelta.prototype.insert = function (text, attributes) {\n  var newOp = {};\n  if (text.length === 0) return this;\n  newOp.insert = text;\n  if (typeof attributes === 'object' && Object.keys(attributes).length > 0) newOp.attributes = attributes;\n  return this.push(newOp);\n};\n\nDelta.prototype['delete'] = function (length) {\n  if (length <= 0) return this;\n  return this.push({ 'delete': length });\n};\n\nDelta.prototype.retain = function (length, attributes) {\n  if (length <= 0) return this;\n  var newOp = { retain: length };\n  if (typeof attributes === 'object' && Object.keys(attributes).length > 0) newOp.attributes = attributes;\n  return this.push(newOp);\n};\n\nDelta.prototype.push = function (newOp) {\n  var index = this.ops.length;\n  var lastOp = this.ops[index - 1];\n  newOp = op.clone(newOp);\n  if (typeof lastOp === 'object') {\n    if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\n      this.ops[index - 1] = { 'delete': lastOp['delete'] + newOp['delete'] };\n      return this;\n    }\n    // Since it does not matter if we insert before or after deleting at the same index,\n    // always prefer to insert first\n    if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\n      index -= 1;\n      lastOp = this.ops[index - 1];\n      if (typeof lastOp !== 'object') {\n        this.ops.unshift(newOp);\n        return this;\n      }\n    }\n    if (equal(newOp.attributes, lastOp.attributes)) {\n      if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\n        this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\n        this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      }\n    }\n  }\n  if (index === this.ops.length) {\n    this.ops.push(newOp);\n  } else {\n    this.ops.splice(index, 0, newOp);\n  }\n  return this;\n};\n\nDelta.prototype.chop = function () {\n  var lastOp = this.ops[this.ops.length - 1];\n  if (lastOp && lastOp.retain && !lastOp.attributes) {\n    this.ops.pop();\n  }\n  return this;\n};\n\nDelta.prototype.length = function () {\n  return this.ops.reduce(function (length, elem) {\n    return length + op.length(elem);\n  }, 0);\n};\n\nDelta.prototype.slice = function (start, end) {\n  start = start || 0;\n  if (typeof end !== 'number') end = Infinity;\n  var delta = new Delta();\n  var iter = op.iterator(this.ops);\n  var index = 0;\n  while (index < end && iter.hasNext()) {\n    var nextOp;\n    if (index < start) {\n      nextOp = iter.next(start - index);\n    } else {\n      nextOp = iter.next(end - index);\n      delta.push(nextOp);\n    }\n    index += op.length(nextOp);\n  }\n  return delta;\n};\n\n\nDelta.prototype.compose = function (other) {\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var delta = new Delta();\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else if (thisIter.peekType() === 'delete') {\n      delta.push(thisIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (typeof otherOp.retain === 'number') {\n        var newOp = {};\n        if (typeof thisOp.retain === 'number') {\n          newOp.retain = length;\n        } else {\n          newOp.insert = thisOp.insert;\n        }\n        // Preserve null when composing with a retain, otherwise remove it for inserts\n        var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\n        if (attributes) newOp.attributes = attributes;\n        delta.push(newOp);\n      // Other op should be delete, we could be an insert or retain\n      // Insert + delete cancels out\n      } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\n        delta.push(otherOp);\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.concat = function (other) {\n  var delta = this.slice();\n  if (other.ops.length > 0) {\n    delta.push(other.ops[0]);\n    delta.ops = delta.ops.concat(other.ops.slice(1));\n  }\n  return delta;\n};\n\nDelta.prototype.diff = function (other) {\n  var delta = new Delta();\n  if (this.ops === other.ops) {\n    return delta;\n  }\n  var strings = [this.ops, other.ops].map(function (ops) {\n    return ops.map(function (op) {\n      if (op.insert != null) {\n        return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n      }\n      var prep = (ops === other.ops) ? 'on' : 'with';\n      throw new Error('diff() called ' + prep + ' non-document');\n    }).join('');\n  });\n  var diffResult = diff(strings[0], strings[1]);\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  diffResult.forEach(function (component) {\n    var length = component[1].length;\n    while (length > 0) {\n      var opLength = 0;\n      switch (component[0]) {\n        case diff.INSERT:\n          opLength = Math.min(otherIter.peekLength(), length);\n          delta.push(otherIter.next(opLength));\n          break;\n        case diff.DELETE:\n          opLength = Math.min(length, thisIter.peekLength());\n          thisIter.next(opLength);\n          delta['delete'](opLength);\n          break;\n        case diff.EQUAL:\n          opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n          var thisOp = thisIter.next(opLength);\n          var otherOp = otherIter.next(opLength);\n          if (equal(thisOp.insert, otherOp.insert)) {\n            delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\n          } else {\n            delta.push(otherOp)['delete'](opLength);\n          }\n          break;\n      }\n      length -= opLength;\n    }\n  });\n  return delta.chop();\n};\n\nDelta.prototype.transform = function (other, priority) {\n  priority = !!priority;\n  if (typeof other === 'number') {\n    return this.transformPosition(other, priority);\n  }\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var delta = new Delta();\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\n      delta.retain(op.length(thisIter.next()));\n    } else if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (thisOp['delete']) {\n        // Our delete either makes their delete redundant or removes their retain\n        continue;\n      } else if (otherOp['delete']) {\n        delta.push(otherOp);\n      } else {\n        // We retain either their retain or insert\n        delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.transformPosition = function (index, priority) {\n  priority = !!priority;\n  var thisIter = op.iterator(this.ops);\n  var offset = 0;\n  while (thisIter.hasNext() && offset <= index) {\n    var length = thisIter.peekLength();\n    var nextType = thisIter.peekType();\n    thisIter.next();\n    if (nextType === 'delete') {\n      index -= Math.min(length, index - offset);\n      continue;\n    } else if (nextType === 'insert' && (offset < index || !priority)) {\n      index += length;\n    }\n    offset += length;\n  }\n  return index;\n};\n\n\nmodule.exports = Delta;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/rich-text/lib/delta.js\n **/","/**\n * This library modifies the diff-patch-match library by Neil Fraser\n * by removing the patch and match functionality and certain advanced\n * options in the diff function. The original license is as follows:\n *\n * ===\n *\n * Diff Match and Patch\n *\n * Copyright 2006 Google Inc.\n * http://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_main(text1, text2) {\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [[DIFF_EQUAL, text1]];\n    }\n    return [];\n  }\n\n  // Trim off common prefix (speedup).\n  var commonlength = diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = diff_compute_(text1, text2);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_compute_(text1, text2) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\n             [DIFF_EQUAL, shorttext],\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = diff_main(text1_a, text2_a);\n    var diffs_b = diff_main(text1_b, text2_b);\n    // Merge the results.\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n  }\n\n  return diff_bisect_(text1, text2);\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n * @private\n */\nfunction diff_bisect_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_bisectSplit_(text1, text2, x, y) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = diff_main(text1a, text2a);\n  var diffsb = diff_main(text1b, text2b);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\nfunction diff_commonPrefix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\nfunction diff_commonSuffix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n */\nfunction diff_halfMatch_(text1, text2) {\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = diff_commonPrefix(longtext.substring(i),\n                                           shorttext.substring(j));\n      var suffixLength = diff_commonSuffix(longtext.substring(0, i),\n                                           shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {Array} diffs Array of diff tuples.\n */\nfunction diff_cleanupMerge(diffs) {\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL,\n                                    text_insert.substring(0, commonlength)]);\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          if (count_delete === 0) {\n            diffs.splice(pointer - count_insert,\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\n          } else if (count_insert === 0) {\n            diffs.splice(pointer - count_delete,\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\n          } else {\n            diffs.splice(pointer - count_delete - count_insert,\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\n                [DIFF_INSERT, text_insert]);\n          }\n          pointer = pointer - count_delete - count_insert +\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    diff_cleanupMerge(diffs);\n  }\n};\n\n\nvar diff = diff_main;\ndiff.INSERT = DIFF_INSERT;\ndiff.DELETE = DIFF_DELETE;\ndiff.EQUAL = DIFF_EQUAL;\n\n\nmodule.exports = diff;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/rich-text/~/fast-diff/diff.js\n **/","var pSlice = Array.prototype.slice;\nvar objectKeys = require('./lib/keys.js');\nvar isArguments = require('./lib/is_arguments.js');\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/deep-equal/index.js\n **/","exports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/deep-equal/lib/keys.js\n **/","var supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/deep-equal/lib/is_arguments.js\n **/","var lib = {\n  attributes: {\n    clone: function (attributes, keepNull) {\n      if (typeof attributes !== 'object') return {};\n      return Object.keys(attributes).reduce(function (memo, key) {\n        if (attributes[key] !== undefined && (attributes[key] !== null || keepNull)) {\n          memo[key] = attributes[key];\n        }\n        return memo;\n      }, {});\n    },\n\n    compose: function (a, b, keepNull) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = this.clone(b, keepNull);\n      for (var key in a) {\n        if (a[key] !== undefined && b[key] === undefined) {\n          attributes[key] = a[key];\n        }\n      }\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    diff: function(a, b) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n        if (a[key] !== b[key]) {\n          attributes[key] = b[key] === undefined ? null : b[key];\n        }\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    transform: function (a, b, priority) {\n      if (typeof a !== 'object') return b;\n      if (typeof b !== 'object') return undefined;\n      if (!priority) return b;  // b simply overwrites us without priority\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n  },\n\n  clone: function (op) {\n    var newOp = this.attributes.clone(op);\n    if (typeof newOp.attributes === 'object') {\n      newOp.attributes = this.attributes.clone(newOp.attributes, true);\n    }\n    return newOp;\n  },\n\n  iterator: function (ops) {\n    return new Iterator(ops);\n  },\n\n  length: function (op) {\n    if (typeof op['delete'] === 'number') {\n      return op['delete'];\n    } else if (typeof op.retain === 'number') {\n      return op.retain;\n    } else {\n      return typeof op.insert === 'string' ? op.insert.length : 1;\n    }\n  }\n};\n\n\nfunction Iterator(ops) {\n  this.ops = ops;\n  this.index = 0;\n  this.offset = 0;\n};\n\nIterator.prototype.hasNext = function () {\n  return this.peekLength() < Infinity;\n};\n\nIterator.prototype.next = function (length) {\n  if (!length) length = Infinity;\n  var nextOp = this.ops[this.index];\n  if (nextOp) {\n    var offset = this.offset;\n    var opLength = lib.length(nextOp)\n    if (length >= opLength - offset) {\n      length = opLength - offset;\n      this.index += 1;\n      this.offset = 0;\n    } else {\n      this.offset += length;\n    }\n    if (typeof nextOp['delete'] === 'number') {\n      return { 'delete': length };\n    } else {\n      var retOp = {};\n      if (nextOp.attributes) {\n        retOp.attributes = nextOp.attributes;\n      }\n      if (typeof nextOp.retain === 'number') {\n        retOp.retain = length;\n      } else if (typeof nextOp.insert === 'string') {\n        retOp.insert = nextOp.insert.substr(offset, length);\n      } else {\n        // offset should === 0, length should === 1\n        retOp.insert = nextOp.insert;\n      }\n      return retOp;\n    }\n  } else {\n    return { retain: Infinity };\n  }\n};\n\nIterator.prototype.peekLength = function () {\n  if (this.ops[this.index]) {\n    // Should never return 0 if our index is being managed correctly\n    return lib.length(this.ops[this.index]) - this.offset;\n  } else {\n    return Infinity;\n  }\n};\n\nIterator.prototype.peekType = function () {\n  if (this.ops[this.index]) {\n    if (typeof this.ops[this.index]['delete'] === 'number') {\n      return 'delete';\n    } else if (typeof this.ops[this.index].retain === 'number') {\n      return 'retain';\n    } else {\n      return 'insert';\n    }\n  }\n  return 'retain';\n};\n\n\nmodule.exports = lib;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/rich-text/lib/op.js\n **/","import Delta from 'rich-text/lib/delta';\nimport DeltaOp from 'rich-text/lib/op';\nimport Emitter from './emitter';\nimport Parchment from 'parchment';\nimport Block, { bubbleFormats } from '../blots/block';\nimport clone from 'clone';\nimport extend from 'extend';\n\n\nclass Editor {\n  constructor(scroll, emitter) {\n    this.scroll = scroll;\n    this.emitter = emitter;\n    this.emitter.on(Emitter.events.SCROLL_UPDATE, this.update, this);\n    this.delta = this.getDelta();\n    this.enable();\n  }\n\n  applyDelta(delta, source = Emitter.sources.API) {\n    delta.ops.reduce((index, op) => {\n      if (typeof op.delete === 'number') {\n        this.scroll.deleteAt(index, op.delete);\n        return index;\n      }\n      let length = op.retain || op.insert.length || 1;\n      let attributes = op.attributes || {};\n      if (op.insert != null) {\n        if (typeof op.insert === 'string') {\n          this.scroll.insertAt(index, op.insert);\n          let leaf, [line, offset] = this.scroll.line(index);\n          if (line instanceof Parchment.Leaf) {\n            leaf = line;\n          } else {\n            [leaf, offset] = line.descendant(Parchment.Leaf, offset);\n          }\n          let formats = extend({}, line.formats(), bubbleFormats(leaf));\n          attributes = DeltaOp.attributes.diff(formats, attributes) || {};\n        } else if (typeof op.insert === 'object') {\n          let key = Object.keys(op.insert)[0];\n          this.scroll.insertAt(index, key, op.insert[key]);\n          attributes = clone(attributes);\n          delete attributes[key];\n        }\n      }\n      Object.keys(attributes).forEach((name) => {\n        this.scroll.formatAt(index, length, name, attributes[name]);\n      });\n      return index + length;\n    }, 0);\n    this.update(source);\n  }\n\n  deleteText(index, length, source = Emitter.sources.API) {\n    this.scroll.deleteAt(index, length);\n    this.update(source);\n  }\n\n  enable(enabled = true) {\n    this.scroll.domNode.setAttribute('contenteditable', enabled);\n  }\n\n  formatLine(index, length, formats = {}, source = Emitter.sources.API) {\n    Object.keys(formats).forEach((format) => {\n      this.scroll.lines(index, Math.max(length, 1)).forEach(function(line) {\n        line.format(format, formats[format]);\n      });\n    });\n    this.update(source);\n  }\n\n  formatText(index, length, formats = {}, source = Emitter.sources.API) {\n    Object.keys(formats).forEach((format) => {\n      this.scroll.formatAt(index, length, format, formats[format]);\n    });\n    this.update(source);\n  }\n\n  getContents(index, length) {\n    return this.delta.slice(index, index + length);\n  }\n\n  getDelta() {\n    return this.scroll.lines().reduce((delta, line) => {\n      return delta.concat(line.delta());\n    }, new Delta());\n  }\n\n  getFormat(index, length = 0) {\n    let lines = [], leaves = [];\n    if (length === 0) {\n      this.scroll.path(index).forEach(function(path) {\n        let [blot, offset] = path;\n        if (blot instanceof Block) {\n          lines.push(blot);\n        } else if (blot instanceof Parchment.Leaf) {\n          leaves.push(blot);\n        }\n      });\n    } else {\n      lines = this.scroll.lines(index, length);\n      leaves = this.scroll.descendants(Parchment.Leaf, index, length);\n    }\n    let formatsArr = [lines, leaves].map(function(blots) {\n      if (blots.length === 0) return {};\n      let formats = bubbleFormats(blots.shift());\n      while (Object.keys(formats).length > 0) {\n        let blot = blots.shift();\n        if (blot == null) return formats;\n        formats = combineFormats(bubbleFormats(blot), formats);\n      }\n    });\n    return extend.apply(extend, formatsArr);\n  }\n\n  getText(index, length) {\n    return this.getContents(index, length).ops.map(function(op) {\n      return (typeof op.insert === 'string') ? op.insert : '';\n    }).join('');\n  }\n\n  insertEmbed(index, embed, value, source = Emitter.sources.API) {\n    this.scroll.insertAt(index, embed, value);\n    this.update(source);\n  }\n\n  insertText(index, text, formats = {}, source = Emitter.sources.API) {\n    this.scroll.insertAt(index, text);\n    this.formatText(index, index + text.length, formats, source);\n  }\n\n  update(source = Emitter.sources.USER) {\n    let oldDelta = this.delta;\n    this.delta = this.getDelta();\n    let change = oldDelta.diff(this.delta);\n    if (change.length() > 0) {\n      this.emitter.emit(Emitter.events.TEXT_CHANGE, change, oldDelta, source);\n    }\n  }\n}\n\n\nfunction combineFormats(formats, combined) {\n  return Object.keys(combined).reduce(function(merged, name) {\n    if (formats[name] == null) return merged;\n    if (combined[name] === formats[name]) {\n      merged[name] = combined[name];\n    } else if (Array.isArray(combined[name])) {\n      if (combined[name].indexOf(formats[name]) < 0) {\n        merged[name] = combined[name].concat([formats[name]]);\n      }\n    } else {\n      merged[name] = [combined[name], formats[name]];\n    }\n    return merged;\n  }, {});\n}\n\n\nexport default Editor;\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/editor.js\n **/","import EventEmitter from 'eventemitter3';\nimport logger from './logger';\n\nlet debug = logger('quill:events');\n\n\nclass Emitter extends EventEmitter {\n  constructor() {\n    super();\n    this.on('error', debug.error);\n  }\n\n  emit() {\n    debug.log.apply(debug, arguments);\n    super.emit.apply(this, arguments);\n  }\n}\n\nEmitter.events = {\n  READY             : 'ready',\n  SCROLL_UPDATE     : 'scroll-update',\n  SELECTION_CHANGE  : 'selection-change',\n  TEXT_CHANGE       : 'text-change'\n};\nEmitter.sources = {\n  API    : 'api',\n  SILENT : 'silent',\n  USER   : 'user'\n};\n\n\nexport default Emitter;\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/emitter.js\n **/","'use strict';\n\n//\n// We store our EE objects in a plain object whose properties are event names.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// `~` to make sure that the built-in object properties are not overridden or\n// used as an attack vector.\n// We also assume that `Object.create(null)` is available when the event name\n// is an ES6 Symbol.\n//\nvar prefix = typeof Object.create !== 'function' ? '~' : false;\n\n/**\n * Representation of a single EventEmitter function.\n *\n * @param {Function} fn Event handler to be called.\n * @param {Mixed} context Context for function execution.\n * @param {Boolean} once Only emit once\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal EventEmitter interface that is molded against the Node.js\n * EventEmitter interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() { /* Nothing to set */ }\n\n/**\n * Holds the assigned EventEmitters by name.\n *\n * @type {Object}\n * @private\n */\nEventEmitter.prototype._events = undefined;\n\n/**\n * Return a list of assigned event listeners.\n *\n * @param {String} event The events that should be listed.\n * @param {Boolean} exists We only need to know if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events && this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Emit an event to all registered event listeners.\n *\n * @param {String} event The name of the event.\n * @returns {Boolean} Indication if we've emitted an event.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if ('function' === typeof listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Register a new EventListener for the given event.\n *\n * @param {String} event Name of the event.\n * @param {Functon} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Add an EventListener that's only called once.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Remove event listeners.\n *\n * @param {String} event The event we want to remove.\n * @param {Function} fn The listener that we need to find.\n * @param {Mixed} context Only remove listeners matching this context.\n * @param {Boolean} once Only remove once listeners.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return this;\n\n  var listeners = this._events[evt]\n    , events = [];\n\n  if (fn) {\n    if (listeners.fn) {\n      if (\n           listeners.fn !== fn\n        || (once && !listeners.once)\n        || (context && listeners.context !== context)\n      ) {\n        events.push(listeners);\n      }\n    } else {\n      for (var i = 0, length = listeners.length; i < length; i++) {\n        if (\n             listeners[i].fn !== fn\n          || (once && !listeners[i].once)\n          || (context && listeners[i].context !== context)\n        ) {\n          events.push(listeners[i]);\n        }\n      }\n    }\n  }\n\n  //\n  // Reset the array, or remove it completely if we have no more listeners.\n  //\n  if (events.length) {\n    this._events[evt] = events.length === 1 ? events[0] : events;\n  } else {\n    delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners or only the listeners for the specified event.\n *\n * @param {String} event The event want to remove all listeners for.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  if (!this._events) return this;\n\n  if (event) delete this._events[prefix ? prefix + event : event];\n  else this._events = prefix ? {} : Object.create(null);\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eventemitter3/index.js\n **/","let levels = ['error', 'warn', 'log', 'info'];\nlet level = 'warn';\n\nfunction debug(method, ...args) {\n  if (levels.indexOf(method) <= levels.indexOf(level)) {\n    console[method].apply(console, args);\n  }\n}\n\nfunction namespace(ns) {\n  return levels.reduce(function(logger, method) {\n    logger[method] = debug.bind(console, method, ns);\n    return logger;\n  }, {});\n}\n\ndebug.level = namespace.level = function(newLevel) {\n  level = newLevel;\n};\n\n\nexport default namespace;\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/logger.js\n **/","\"use strict\";\nvar container_1 = require('./blot/abstract/container');\nvar format_1 = require('./blot/abstract/format');\nvar leaf_1 = require('./blot/abstract/leaf');\nvar embed_1 = require('./blot/abstract/embed');\nvar scroll_1 = require('./blot/scroll');\nvar inline_1 = require('./blot/inline');\nvar block_1 = require('./blot/block');\nvar text_1 = require('./blot/text');\nvar attributor_1 = require('./attributor/attributor');\nvar class_1 = require('./attributor/class');\nvar style_1 = require('./attributor/style');\nvar store_1 = require('./attributor/store');\nvar Registry = require('./registry');\nvar Parchment = {\n    Scope: Registry.Scope,\n    create: Registry.create,\n    find: Registry.find,\n    query: Registry.query,\n    register: Registry.register,\n    Container: container_1.default,\n    Format: format_1.default,\n    Leaf: leaf_1.default,\n    Embed: embed_1.default,\n    Scroll: scroll_1.default,\n    Block: block_1.default,\n    Inline: inline_1.default,\n    Text: text_1.default,\n    Attributor: {\n        Attributor: attributor_1.default,\n        Class: class_1.default,\n        Style: style_1.default,\n        Store: store_1.default\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Parchment;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/parchment.ts\n ** module id = 14\n ** module chunks = 2 4\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar linked_list_1 = require('../../collection/linked-list');\nvar shadow_1 = require('./shadow');\nvar Registry = require('../../registry');\nvar ContainerBlot = (function (_super) {\n    __extends(ContainerBlot, _super);\n    function ContainerBlot() {\n        _super.apply(this, arguments);\n    }\n    ContainerBlot.prototype.appendChild = function (other) {\n        this.insertBefore(other);\n    };\n    ContainerBlot.prototype.attach = function () {\n        var _this = this;\n        _super.prototype.attach.call(this);\n        this.children = new linked_list_1.default();\n        // Need to be reversed for if DOM nodes already in order\n        [].slice.call(this.domNode.childNodes).reverse().forEach(function (node) {\n            try {\n                var child = Registry.find(node) || Registry.create(node);\n                _this.insertBefore(child, _this.children.head);\n            }\n            catch (err) {\n                if (err instanceof Registry.ParchmentError)\n                    return;\n                else\n                    throw err;\n            }\n        });\n    };\n    ContainerBlot.prototype.deleteAt = function (index, length) {\n        if (index === 0 && length === this.length()) {\n            return this.remove();\n        }\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.deleteAt(offset, length);\n        });\n    };\n    ContainerBlot.prototype.descendant = function (criteria, index) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if ((criteria.blotName == null && criteria(child)) ||\n            (criteria.blotName != null && child instanceof criteria)) {\n            return [child, offset];\n        }\n        else if (child instanceof ContainerBlot) {\n            return child.descendant(criteria, offset);\n        }\n        else {\n            return [null, -1];\n        }\n    };\n    ContainerBlot.prototype.descendants = function (criteria, index, length) {\n        if (index === void 0) { index = 0; }\n        if (length === void 0) { length = Number.MAX_VALUE; }\n        var descendants = [], lengthLeft = length;\n        this.children.forEachAt(index, length, function (child, index, length) {\n            if ((criteria.blotName == null && criteria(child)) ||\n                (criteria.blotName != null && child instanceof criteria)) {\n                descendants.push(child);\n            }\n            if (child instanceof ContainerBlot) {\n                descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\n            }\n            lengthLeft -= length;\n        });\n        return descendants;\n    };\n    ContainerBlot.prototype.detach = function () {\n        this.children.forEach(function (child) {\n            child.detach();\n        });\n        _super.prototype.detach.call(this);\n    };\n    ContainerBlot.prototype.formatAt = function (index, length, name, value) {\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.formatAt(offset, length, name, value);\n        });\n    };\n    ContainerBlot.prototype.insertAt = function (index, value, def) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if (child) {\n            child.insertAt(offset, value, def);\n        }\n        else {\n            var blot = (def == null) ? Registry.create('text', value) : Registry.create(value, def);\n            this.appendChild(blot);\n        }\n    };\n    ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {\n        childBlot.insertInto(this, refBlot);\n    };\n    ContainerBlot.prototype.length = function () {\n        // TODO can we use descendants?\n        return this.children.reduce(function (memo, child) {\n            return memo + child.length();\n        }, 0);\n    };\n    ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {\n        this.children.forEach(function (child) {\n            targetParent.insertBefore(child, refNode);\n        });\n    };\n    ContainerBlot.prototype.optimize = function () {\n        _super.prototype.optimize.call(this);\n        if (this.children.length === 0) {\n            if (this.statics.childless != null) {\n                var child = Registry.create(this.statics.childless);\n                this.appendChild(child);\n                child.optimize();\n            }\n            else {\n                this.remove();\n            }\n        }\n    };\n    ContainerBlot.prototype.path = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var _a = this.children.find(index, inclusive), child = _a[0], offset = _a[1];\n        var position = [[this, index]];\n        if (child instanceof ContainerBlot) {\n            return position.concat(child.path(offset, inclusive));\n        }\n        else if (child != null) {\n            position.push([child, offset]);\n        }\n        return position;\n    };\n    ContainerBlot.prototype.replace = function (target) {\n        target.moveChildren(this);\n        _super.prototype.replace.call(this, target);\n    };\n    ContainerBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = this.clone();\n        this.parent.insertBefore(after, this.next);\n        this.children.forEachAt(index, this.length(), function (child, offset, length) {\n            child = child.split(offset, force);\n            after.appendChild(child);\n        });\n        return after;\n    };\n    ContainerBlot.prototype.unwrap = function () {\n        this.moveChildren(this.parent, this.next);\n        this.remove();\n    };\n    ContainerBlot.prototype.update = function (mutations) {\n        var _this = this;\n        var addedNodes = [], removedNodes = [];\n        mutations.forEach(function (mutation) {\n            if (mutation.target === _this.domNode && mutation.type === 'childList') {\n                addedNodes.push.apply(addedNodes, mutation.addedNodes);\n                removedNodes.push.apply(removedNodes, mutation.removedNodes);\n            }\n        });\n        removedNodes.forEach(function (node) {\n            var blot = Registry.find(node);\n            if (blot == null || blot.domNode.parentNode === _this.domNode)\n                return;\n            blot.detach();\n        });\n        addedNodes.sort(function (a, b) {\n            if (a === b)\n                return 0;\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n                return -1;\n            }\n            return 1;\n        });\n        addedNodes.reverse().forEach(function (node) {\n            if (node.parentNode !== _this.domNode)\n                return;\n            var refBlot = null;\n            if (node.nextSibling != null) {\n                refBlot = Registry.find(node.nextSibling);\n            }\n            var blot = Registry.find(node) || Registry.create(node);\n            if (blot.next != refBlot || blot.next == null) {\n                if (blot.parent != null) {\n                    blot.parent.children.remove(blot);\n                }\n                _this.insertBefore(blot, refBlot);\n            }\n        });\n    };\n    return ContainerBlot;\n}(shadow_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ContainerBlot;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/blot/abstract/container.ts\n ** module id = 15\n ** module chunks = 2 4\n **/","\"use strict\";\nvar LinkedList = (function () {\n    function LinkedList() {\n        this.head = this.tail = undefined;\n        this.length = 0;\n    }\n    LinkedList.prototype.append = function () {\n        var nodes = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i - 0] = arguments[_i];\n        }\n        this.insertBefore(nodes[0], undefined);\n        if (nodes.length > 1) {\n            this.append.apply(this, nodes.slice(1));\n        }\n    };\n    LinkedList.prototype.contains = function (node) {\n        var cur, next = this.iterator();\n        while (cur = next()) {\n            if (cur === node)\n                return true;\n        }\n        return false;\n    };\n    LinkedList.prototype.insertBefore = function (node, refNode) {\n        node.next = refNode;\n        if (refNode != null) {\n            node.prev = refNode.prev;\n            if (refNode.prev != null) {\n                refNode.prev.next = node;\n            }\n            refNode.prev = node;\n            if (refNode === this.head) {\n                this.head = node;\n            }\n        }\n        else if (this.tail != null) {\n            this.tail.next = node;\n            node.prev = this.tail;\n            this.tail = node;\n        }\n        else {\n            node.prev = undefined;\n            this.head = this.tail = node;\n        }\n        this.length += 1;\n    };\n    LinkedList.prototype.offset = function (target) {\n        var index = 0, cur = this.head;\n        while (cur != null) {\n            if (cur === target)\n                return index;\n            index += cur.length();\n            cur = cur.next;\n        }\n        return -1;\n    };\n    LinkedList.prototype.remove = function (node) {\n        if (!this.contains(node))\n            return;\n        if (node.prev != null)\n            node.prev.next = node.next;\n        if (node.next != null)\n            node.next.prev = node.prev;\n        if (node === this.head)\n            this.head = node.next;\n        if (node === this.tail)\n            this.tail = node.prev;\n        this.length -= 1;\n    };\n    LinkedList.prototype.iterator = function (curNode) {\n        if (curNode === void 0) { curNode = this.head; }\n        // TODO use yield when we can\n        return function () {\n            var ret = curNode;\n            if (curNode != null)\n                curNode = curNode.next;\n            return ret;\n        };\n    };\n    LinkedList.prototype.find = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var cur, next = this.iterator();\n        while (cur = next()) {\n            var length_1 = cur.length();\n            if (index < length_1 || (inclusive && index === length_1 && (cur.next == null || cur.next.length() !== 0))) {\n                return [cur, index];\n            }\n            index -= length_1;\n        }\n        return [null, 0];\n    };\n    LinkedList.prototype.forEach = function (callback) {\n        var cur, next = this.iterator();\n        while (cur = next()) {\n            callback(cur);\n        }\n    };\n    LinkedList.prototype.forEachAt = function (index, length, callback) {\n        if (length <= 0)\n            return;\n        var _a = this.find(index), startNode = _a[0], offset = _a[1];\n        var cur, curIndex = index - offset, next = this.iterator(startNode);\n        while ((cur = next()) && curIndex < index + length) {\n            var curLength = cur.length();\n            if (index > curIndex) {\n                callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\n            }\n            else {\n                callback(cur, 0, Math.min(curLength, index + length - curIndex));\n            }\n            curIndex += curLength;\n        }\n    };\n    LinkedList.prototype.map = function (callback) {\n        return this.reduce(function (memo, cur) {\n            memo.push(callback(cur));\n            return memo;\n        }, []);\n    };\n    LinkedList.prototype.reduce = function (callback, memo) {\n        var cur, next = this.iterator();\n        while (cur = next()) {\n            memo = callback(memo, cur);\n        }\n        return memo;\n    };\n    return LinkedList;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = LinkedList;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/collection/linked-list.ts\n ** module id = 16\n ** module chunks = 2 4\n **/","\"use strict\";\nvar Registry = require('../../registry');\nvar ShadowBlot = (function () {\n    function ShadowBlot(domNode) {\n        this.domNode = domNode;\n        this.attach();\n    }\n    Object.defineProperty(ShadowBlot.prototype, \"statics\", {\n        // Hack for accessing inherited static methods\n        get: function () {\n            var statics = this.constructor;\n            return {\n                blotName: statics.blotName,\n                childless: statics.childless,\n                className: statics.className,\n                scope: statics.scope,\n                tagName: statics.tagName\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShadowBlot.create = function (value) {\n        if (this.tagName == null) {\n            throw new Registry.ParchmentError('Blot definition missing tagName');\n        }\n        var node;\n        if (Array.isArray(this.tagName)) {\n            if (typeof value === 'string' && parseInt(value).toString() === value) {\n                value = parseInt(value);\n            }\n            if (typeof value === 'number') {\n                node = document.createElement(this.tagName[value - 1]);\n            }\n            else if (this.tagName.indexOf(value) > -1) {\n                node = document.createElement(value);\n            }\n            else {\n                node = document.createElement(this.tagName[0]);\n            }\n        }\n        else {\n            node = document.createElement(this.tagName);\n        }\n        if (this.className) {\n            node.classList.add(this.className);\n        }\n        return node;\n    };\n    ShadowBlot.prototype.attach = function () {\n        this.domNode[Registry.DATA_KEY] = { blot: this };\n    };\n    ShadowBlot.prototype.clone = function () {\n        var domNode = this.domNode.cloneNode();\n        return Registry.create(domNode);\n    };\n    ShadowBlot.prototype.detach = function () {\n        if (this.parent != null)\n            this.parent.children.remove(this);\n        delete this.domNode[Registry.DATA_KEY];\n    };\n    ShadowBlot.prototype.deleteAt = function (index, length) {\n        var blot = this.isolate(index, length);\n        blot.remove();\n    };\n    ShadowBlot.prototype.findOffset = function (node) {\n        return node === this.domNode ? 0 : -1;\n    };\n    ShadowBlot.prototype.formatAt = function (index, length, name, value) {\n        var blot = this.isolate(index, length);\n        blot.wrap(name, value);\n    };\n    ShadowBlot.prototype.insertAt = function (index, value, def) {\n        var blot = (def == null) ? Registry.create('text', value) : Registry.create(value, def);\n        var ref = this.split(index);\n        this.parent.insertBefore(blot, ref);\n    };\n    ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {\n        if (this.parent != null) {\n            this.parent.children.remove(this);\n        }\n        parentBlot.children.insertBefore(this, refBlot);\n        if (refBlot != null) {\n            var refDomNode = refBlot.domNode;\n        }\n        if (this.next == null || this.domNode.nextSibling != refDomNode) {\n            parentBlot.domNode.insertBefore(this.domNode, refDomNode);\n        }\n        this.parent = parentBlot;\n    };\n    ShadowBlot.prototype.isolate = function (index, length) {\n        var target = this.split(index);\n        target.split(length);\n        return target;\n    };\n    ShadowBlot.prototype.offset = function (root) {\n        if (root === void 0) { root = this.parent; }\n        if (this.parent == null || this == root)\n            return 0;\n        return this.parent.children.offset(this) + this.parent.offset(root);\n    };\n    ShadowBlot.prototype.optimize = function () {\n        // TODO clean up\n        if (this.domNode[Registry.DATA_KEY] != null) {\n            delete this.domNode[Registry.DATA_KEY].mutations;\n        }\n    };\n    ShadowBlot.prototype.remove = function () {\n        if (this.domNode.parentNode != null) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        this.detach();\n    };\n    ShadowBlot.prototype.replace = function (target) {\n        if (target.parent == null)\n            return;\n        target.parent.insertBefore(this, target.next);\n        target.remove();\n    };\n    ShadowBlot.prototype.replaceWith = function (name, value) {\n        var replacement = typeof name === 'string' ? Registry.create(name, value) : name;\n        replacement.replace(this);\n        return replacement;\n    };\n    ShadowBlot.prototype.split = function (index, force) {\n        return index === 0 ? this : this.next;\n    };\n    ShadowBlot.prototype.update = function (mutations) {\n        if (mutations === void 0) { mutations = []; }\n        // Nothing to do by default\n    };\n    ShadowBlot.prototype.wrap = function (name, value) {\n        var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;\n        if (this.parent != null) {\n            this.parent.insertBefore(wrapper, this.next);\n        }\n        wrapper.appendChild(this);\n        return wrapper;\n    };\n    ShadowBlot.blotName = 'abstract';\n    return ShadowBlot;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ShadowBlot;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/blot/abstract/shadow.ts\n ** module id = 17\n ** module chunks = 2 4\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar attributor_1 = require('./attributor/attributor');\nvar ParchmentError = (function (_super) {\n    __extends(ParchmentError, _super);\n    function ParchmentError(message) {\n        message = '[Parchment] ' + message;\n        _super.call(this, message);\n        this.message = message;\n        this.name = this.constructor.name;\n    }\n    return ParchmentError;\n}(Error));\nexports.ParchmentError = ParchmentError;\nvar attributes = {};\nvar classes = {};\nvar tags = {};\nvar types = {};\nexports.DATA_KEY = '__blot';\n(function (Scope) {\n    Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\n    Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\n    Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\n    Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\n    Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\n    Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\n    Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\n    Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\n    Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\n    Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\n    Scope[Scope[\"ANY\"] = 15] = \"ANY\";\n})(exports.Scope || (exports.Scope = {}));\nvar Scope = exports.Scope;\n;\nfunction create(input, value) {\n    var match = query(input);\n    if (match == null) {\n        throw new ParchmentError(\"Unable to create \" + input);\n    }\n    if (match instanceof attributor_1.default) {\n        var blot = create(match.scope & Scope.LEVEL);\n        blot.format(input, value);\n        return blot;\n    }\n    var BlotClass = match;\n    var node = input instanceof Node ? input : BlotClass.create(value);\n    return new BlotClass(node, value);\n}\nexports.create = create;\nfunction find(node, bubble) {\n    if (bubble === void 0) { bubble = false; }\n    if (node == null)\n        return null;\n    if (node[exports.DATA_KEY] != null)\n        return node[exports.DATA_KEY].blot;\n    if (bubble)\n        return find(node.parentNode, bubble);\n    return null;\n}\nexports.find = find;\nfunction query(query, scope) {\n    if (scope === void 0) { scope = Scope.ANY; }\n    var match;\n    if (typeof query === 'string') {\n        match = types[query] || attributes[query];\n    }\n    else if (query instanceof Text) {\n        match = types['text'];\n    }\n    if (typeof query === 'number') {\n        if (query & Scope.LEVEL & Scope.BLOCK) {\n            match = types['block'];\n        }\n        else if (query & Scope.LEVEL & Scope.INLINE) {\n            match = types['inline'];\n        }\n    }\n    else if (query instanceof HTMLElement) {\n        var names = (query.getAttribute('class') || '').split(/\\s+/);\n        for (var i in names) {\n            if (match = classes[names[i]])\n                break;\n        }\n        match = match || tags[query.tagName];\n    }\n    if (match == null)\n        return null;\n    if ((scope & Scope.LEVEL & match.scope) && (scope & Scope.TYPE & match.scope))\n        return match;\n    return null;\n}\nexports.query = query;\nfunction register() {\n    var Definitions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        Definitions[_i - 0] = arguments[_i];\n    }\n    if (Definitions.length > 1) {\n        return Definitions.map(function (d) {\n            return register(d);\n        });\n    }\n    var Definition = Definitions[0];\n    if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {\n        throw new ParchmentError('Invalid definition');\n    }\n    else if (Definition.blotName === 'abstract') {\n        throw new ParchmentError('Cannot register abstract class');\n    }\n    types[Definition.blotName || Definition.attrName] = Definition;\n    if (typeof Definition.keyName === 'string') {\n        attributes[Definition.keyName] = Definition;\n    }\n    else {\n        if (Definition.className != null) {\n            classes[Definition.className] = Definition;\n        }\n        if (Definition.tagName != null) {\n            var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];\n            tagNames.forEach(function (tag) {\n                tag = tag.toUpperCase();\n                if (tags[tag] == null || Definition.className == null) {\n                    tags[tag] = Definition;\n                }\n            });\n        }\n    }\n    return Definition;\n}\nexports.register = register;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/registry.ts\n ** module id = 18\n ** module chunks = 2 4\n **/","\"use strict\";\nvar Registry = require('../registry');\nvar Attributor = (function () {\n    function Attributor(attrName, keyName, options) {\n        if (options === void 0) { options = {}; }\n        this.attrName = attrName;\n        this.keyName = keyName;\n        var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;\n        if (options.scope != null) {\n            // Ignore type bits, force attribute bit\n            this.scope = (options.scope & Registry.Scope.LEVEL) | attributeBit;\n        }\n        else {\n            this.scope = Registry.Scope.ATTRIBUTE;\n        }\n        if (options.whitelist != null)\n            this.whitelist = options.whitelist;\n    }\n    Attributor.prototype.add = function (node, value) {\n        node.setAttribute(this.keyName, value);\n        return true;\n    };\n    Attributor.prototype.canAdd = function (node, value) {\n        var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));\n        if (match != null && (this.whitelist == null || this.whitelist.indexOf(value) > -1)) {\n            return true;\n        }\n        return false;\n    };\n    Attributor.prototype.remove = function (node) {\n        node.removeAttribute(this.keyName);\n    };\n    Attributor.prototype.value = function (node) {\n        return node.getAttribute(this.keyName);\n    };\n    return Attributor;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Attributor;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/attributor/attributor.ts\n ** module id = 19\n ** module chunks = 2 4\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar attributor_1 = require('../../attributor/attributor');\nvar store_1 = require('../../attributor/store');\nvar container_1 = require('./container');\nvar Registry = require('../../registry');\nvar FormatBlot = (function (_super) {\n    __extends(FormatBlot, _super);\n    function FormatBlot() {\n        _super.apply(this, arguments);\n    }\n    FormatBlot.prototype.attach = function () {\n        _super.prototype.attach.call(this);\n        this.attributes = new store_1.default(this.domNode);\n    };\n    FormatBlot.prototype.format = function (name, value) {\n        var format = Registry.query(name);\n        if (format instanceof attributor_1.default) {\n            this.attributes.attribute(format, value);\n        }\n        else if (value) {\n            if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {\n                this.replaceWith(name, value);\n            }\n        }\n        else if (name === this.statics.blotName) {\n            this.replaceWith(Registry.create(this.statics.scope));\n        }\n    };\n    FormatBlot.prototype.formats = function () {\n        var formats = this.attributes.values();\n        if (Registry.query(this.statics.scope).blotName !== this.statics.blotName) {\n            formats[this.statics.blotName] = Array.isArray(this.statics.tagName) ? this.domNode.tagName.toLowerCase() : true;\n        }\n        return formats;\n    };\n    FormatBlot.prototype.replaceWith = function (name, value) {\n        var replacement = _super.prototype.replaceWith.call(this, name, value);\n        this.attributes.copy(replacement);\n        return replacement;\n    };\n    FormatBlot.prototype.update = function (mutations) {\n        var _this = this;\n        _super.prototype.update.call(this, mutations);\n        if (mutations.some(function (mutation) {\n            return mutation.target === _this.domNode && mutation.type === 'attributes';\n        })) {\n            this.attributes.build();\n        }\n    };\n    FormatBlot.prototype.wrap = function (name, value) {\n        var wrapper = _super.prototype.wrap.call(this, name, value);\n        if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {\n            this.attributes.move(wrapper);\n        }\n        return wrapper;\n    };\n    return FormatBlot;\n}(container_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = FormatBlot;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/blot/abstract/format.ts\n ** module id = 20\n ** module chunks = 2 4\n **/","\"use strict\";\nvar attributor_1 = require('./attributor');\nvar Registry = require('../registry');\nvar AttributorStore = (function () {\n    function AttributorStore(domNode) {\n        this.attributes = {};\n        this.domNode = domNode;\n        this.build();\n    }\n    AttributorStore.prototype.attribute = function (attribute, value) {\n        if (value) {\n            if (attribute.add(this.domNode, value)) {\n                this.attributes[attribute.attrName] = attribute;\n            }\n        }\n        else {\n            attribute.remove(this.domNode);\n            delete this.attributes[attribute.attrName];\n        }\n    };\n    AttributorStore.prototype.build = function () {\n        var _this = this;\n        this.attributes = {};\n        var attributes = [], classes = [], styles = [];\n        [].slice.call(this.domNode.attributes).forEach(function (item) {\n            if (item.name === 'class') {\n                classes = item.value.split(/\\s+/).map(function (name) {\n                    return name.split('-').slice(0, -1).join('-');\n                });\n            }\n            else if (item.name === 'style') {\n                styles = item.value.split(';').map(function (val) {\n                    var arr = val.split(':');\n                    return arr[0].trim();\n                });\n            }\n            else {\n                attributes.push(item.name);\n            }\n        });\n        attributes.concat(classes).concat(styles).forEach(function (name) {\n            var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);\n            if (attr instanceof attributor_1.default) {\n                _this.attributes[attr.attrName] = attr;\n            }\n        });\n    };\n    AttributorStore.prototype.copy = function (target) {\n        var _this = this;\n        Object.keys(this.attributes).forEach(function (key) {\n            var value = _this.attributes[key].value(_this.domNode);\n            target.format(key, value);\n        });\n    };\n    AttributorStore.prototype.move = function (target) {\n        var _this = this;\n        this.copy(target);\n        Object.keys(this.attributes).forEach(function (key) {\n            _this.attributes[key].remove(_this.domNode);\n        });\n        this.attributes = {};\n    };\n    AttributorStore.prototype.values = function () {\n        var _this = this;\n        return Object.keys(this.attributes).reduce(function (attributes, name) {\n            attributes[name] = _this.attributes[name].value(_this.domNode);\n            return attributes;\n        }, {});\n    };\n    return AttributorStore;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = AttributorStore;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/attributor/store.ts\n ** module id = 21\n ** module chunks = 2 4\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar shadow_1 = require('./shadow');\nvar Registry = require('../../registry');\nvar LeafBlot = (function (_super) {\n    __extends(LeafBlot, _super);\n    function LeafBlot() {\n        _super.apply(this, arguments);\n    }\n    LeafBlot.scope = Registry.Scope.INLINE_BLOT;\n    return LeafBlot;\n}(shadow_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = LeafBlot;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/blot/abstract/leaf.ts\n ** module id = 22\n ** module chunks = 2 4\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar leaf_1 = require('./leaf');\nvar EmbedBlot = (function (_super) {\n    __extends(EmbedBlot, _super);\n    function EmbedBlot() {\n        _super.apply(this, arguments);\n    }\n    EmbedBlot.prototype.format = function (name, value) {\n        // Do nothing by default\n    };\n    EmbedBlot.prototype.formats = function () {\n        return {};\n    };\n    EmbedBlot.prototype.index = function (node, offset) {\n        if (node !== this.domNode)\n            return -1;\n        return Math.min(offset, 1);\n    };\n    EmbedBlot.prototype.length = function () {\n        return 1;\n    };\n    EmbedBlot.prototype.position = function (index, inclusive) {\n        var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);\n        if (index > 0)\n            offset += 1;\n        return [this.parent.domNode, offset];\n    };\n    EmbedBlot.prototype.value = function () {\n        return true;\n    };\n    return EmbedBlot;\n}(leaf_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = EmbedBlot;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/blot/abstract/embed.ts\n ** module id = 23\n ** module chunks = 2 4\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar container_1 = require('./abstract/container');\nvar Registry = require('../registry');\nvar OBSERVER_CONFIG = {\n    attributes: true,\n    characterData: true,\n    childList: true,\n    subtree: true\n};\nvar MAX_OPTIMIZE_ITERATIONS = 100;\nvar ScrollBlot = (function (_super) {\n    __extends(ScrollBlot, _super);\n    function ScrollBlot(node) {\n        var _this = this;\n        _super.call(this, node);\n        this.parent = null;\n        this.observer = new MutationObserver(function (mutations) {\n            _this.update(mutations);\n        });\n        this.observer.observe(this.domNode, OBSERVER_CONFIG);\n    }\n    ScrollBlot.prototype.detach = function () {\n        _super.prototype.detach.call(this);\n        this.observer.disconnect();\n    };\n    ScrollBlot.prototype.deleteAt = function (index, length) {\n        this.update();\n        if (index === 0 && length === this.length()) {\n            this.children.forEach(function (child) {\n                child.remove();\n            });\n        }\n        else {\n            _super.prototype.deleteAt.call(this, index, length);\n        }\n        this.optimize();\n    };\n    ScrollBlot.prototype.formatAt = function (index, length, name, value) {\n        this.update();\n        _super.prototype.formatAt.call(this, index, length, name, value);\n        this.optimize();\n    };\n    ScrollBlot.prototype.insertAt = function (index, value, def) {\n        this.update();\n        _super.prototype.insertAt.call(this, index, value, def);\n        this.optimize();\n    };\n    ScrollBlot.prototype.optimize = function (mutations) {\n        var _this = this;\n        if (mutations === void 0) { mutations = []; }\n        _super.prototype.optimize.call(this);\n        // TODO use WeakMap\n        mutations = mutations.concat(this.observer.takeRecords());\n        var mark = function (blot) {\n            if (blot == null || blot === _this)\n                return;\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                blot.domNode[Registry.DATA_KEY].mutations = [];\n            }\n            mark(blot.parent);\n        };\n        var optimize = function (blot) {\n            if (blot instanceof container_1.default) {\n                blot.children.forEach(function (child) {\n                    if (!child.domNode[Registry.DATA_KEY] || child.domNode[Registry.DATA_KEY].mutations == null)\n                        return;\n                    optimize(child);\n                });\n            }\n            blot.optimize();\n        };\n        for (var i = 0; mutations.length > 0; i += 1) {\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\n                throw new Error('[Parchment] Maximum optimize iterations reached');\n            }\n            mutations.forEach(function (mutation) {\n                var blot = Registry.find(mutation.target, true);\n                if (blot != null && blot.domNode === mutation.target && mutation.type === 'childList') {\n                    mark(Registry.find(mutation.previousSibling, false));\n                    [].forEach.call(mutation.addedNodes, function (node) {\n                        var child = Registry.find(node, false);\n                        mark(child);\n                        if (child instanceof container_1.default) {\n                            child.children.forEach(mark);\n                        }\n                    });\n                }\n                mark(blot);\n            });\n            this.children.forEach(optimize);\n            mutations = this.observer.takeRecords();\n        }\n    };\n    ScrollBlot.prototype.update = function (mutations) {\n        var _this = this;\n        mutations = mutations || this.observer.takeRecords();\n        // TODO use WeakMap\n        mutations.map(function (mutation) {\n            var blot = Registry.find(mutation.target, true);\n            if (blot == null)\n                return;\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                blot.domNode[Registry.DATA_KEY].mutations = [mutation];\n                return blot;\n            }\n            else {\n                blot.domNode[Registry.DATA_KEY].mutations.push(mutation);\n                return null;\n            }\n        }).forEach(function (blot) {\n            if (blot == null)\n                return;\n            if (blot === _this) {\n                _super.prototype.update.call(_this, blot.domNode[Registry.DATA_KEY].mutations);\n            }\n            else {\n                blot.update(blot.domNode[Registry.DATA_KEY].mutations);\n            }\n        });\n        this.optimize(mutations);\n    };\n    ScrollBlot.blotName = 'scroll';\n    ScrollBlot.childless = 'block';\n    ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;\n    ScrollBlot.tagName = 'DIV';\n    return ScrollBlot;\n}(container_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ScrollBlot;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/blot/scroll.ts\n ** module id = 24\n ** module chunks = 2 4\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar format_1 = require('./abstract/format');\nvar Registry = require('../registry');\n// Shallow object comparison\nfunction isEqual(obj1, obj2) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length)\n        return false;\n    for (var prop in obj1) {\n        if (obj1[prop] !== obj2[prop])\n            return false;\n    }\n    return true;\n}\nvar InlineBlot = (function (_super) {\n    __extends(InlineBlot, _super);\n    function InlineBlot() {\n        _super.apply(this, arguments);\n    }\n    InlineBlot.prototype.formatAt = function (index, length, name, value) {\n        if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {\n            var blot = this.isolate(index, length);\n            blot.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    InlineBlot.prototype.optimize = function () {\n        _super.prototype.optimize.call(this);\n        var formats = this.formats();\n        if (Object.keys(formats).length === 0) {\n            return this.unwrap(); // unformatted span\n        }\n        var next = this.next;\n        if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {\n            next.moveChildren(this);\n            next.remove();\n        }\n    };\n    InlineBlot.blotName = 'inline';\n    InlineBlot.scope = Registry.Scope.INLINE_BLOT;\n    InlineBlot.tagName = 'SPAN';\n    return InlineBlot;\n}(format_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = InlineBlot;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/blot/inline.ts\n ** module id = 25\n ** module chunks = 2 4\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar format_1 = require('./abstract/format');\nvar Registry = require('../registry');\nvar BlockBlot = (function (_super) {\n    __extends(BlockBlot, _super);\n    function BlockBlot() {\n        _super.apply(this, arguments);\n    }\n    BlockBlot.prototype.formatAt = function (index, length, name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) != null) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    BlockBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n        else {\n            var after = this.split(index);\n            var blot = Registry.create(value, def);\n            after.parent.insertBefore(blot, after);\n        }\n    };\n    BlockBlot.blotName = 'block';\n    BlockBlot.scope = Registry.Scope.BLOCK_BLOT;\n    BlockBlot.tagName = 'P';\n    return BlockBlot;\n}(format_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = BlockBlot;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/blot/block.ts\n ** module id = 26\n ** module chunks = 2 4\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar leaf_1 = require('./abstract/leaf');\nvar Registry = require('../registry');\nvar TextBlot = (function (_super) {\n    __extends(TextBlot, _super);\n    function TextBlot(node) {\n        _super.call(this, node);\n        this.text = this.domNode.data;\n    }\n    TextBlot.create = function (value) {\n        return document.createTextNode(value);\n    };\n    TextBlot.prototype.deleteAt = function (index, length) {\n        this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);\n    };\n    TextBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node) {\n            return offset;\n        }\n        return -1;\n    };\n    TextBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null) {\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\n            this.domNode.data = this.text;\n        }\n        else {\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n    };\n    TextBlot.prototype.length = function () {\n        return this.text.length;\n    };\n    TextBlot.prototype.optimize = function () {\n        _super.prototype.optimize.call(this);\n        this.text = this.domNode.data;\n        if (this.text.length === 0) {\n            this.remove();\n        }\n        else if (this.next instanceof TextBlot && this.next.prev === this) {\n            this.insertAt(this.length(), this.next.value());\n            this.next.remove();\n        }\n    };\n    TextBlot.prototype.position = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        return [this.domNode, index];\n    };\n    TextBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = Registry.create(this.domNode.splitText(index));\n        this.parent.insertBefore(after, this.next);\n        this.text = this.domNode.data;\n        return after;\n    };\n    TextBlot.prototype.update = function (mutations) {\n        var _this = this;\n        if (mutations.some(function (mutation) {\n            return mutation.type === 'characterData' && mutation.target === _this.domNode;\n        })) {\n            this.text = this.domNode.data;\n        }\n    };\n    TextBlot.prototype.value = function () {\n        return this.text;\n    };\n    TextBlot.blotName = 'text';\n    TextBlot.scope = Registry.Scope.INLINE_BLOT;\n    return TextBlot;\n}(leaf_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = TextBlot;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/blot/text.ts\n ** module id = 27\n ** module chunks = 2 4\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar attributor_1 = require('./attributor');\nfunction match(node, prefix) {\n    var className = node.getAttribute('class') || '';\n    return className.split(/\\s+/).filter(function (name) {\n        return name.indexOf(prefix + \"-\") === 0;\n    });\n}\nvar ClassAttributor = (function (_super) {\n    __extends(ClassAttributor, _super);\n    function ClassAttributor() {\n        _super.apply(this, arguments);\n    }\n    ClassAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        this.remove(node);\n        node.classList.add(this.keyName + \"-\" + value);\n        return true;\n    };\n    ClassAttributor.prototype.remove = function (node) {\n        var matches = match(node, this.keyName);\n        matches.forEach(function (name) {\n            node.classList.remove(name);\n        });\n        if (node.classList.length === 0) {\n            node.removeAttribute('class');\n        }\n    };\n    ClassAttributor.prototype.value = function (node) {\n        var result = match(node, this.keyName)[0] || '';\n        return result.slice(this.keyName.length + 1); // +1 for hyphen\n    };\n    return ClassAttributor;\n}(attributor_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ClassAttributor;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/attributor/class.ts\n ** module id = 28\n ** module chunks = 2 4\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar attributor_1 = require('./attributor');\nfunction camelize(name) {\n    var parts = name.split('-');\n    var rest = parts.slice(1).map(function (part) {\n        return part[0].toUpperCase() + part.slice(1);\n    }).join('');\n    return parts[0] + rest;\n}\nvar StyleAttributor = (function (_super) {\n    __extends(StyleAttributor, _super);\n    function StyleAttributor() {\n        _super.apply(this, arguments);\n    }\n    StyleAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        node.style[camelize(this.keyName)] = value;\n        return true;\n    };\n    StyleAttributor.prototype.remove = function (node) {\n        node.style[camelize(this.keyName)] = '';\n        if (!node.getAttribute('style')) {\n            node.removeAttribute('style');\n        }\n    };\n    StyleAttributor.prototype.value = function (node) {\n        return node.style[camelize(this.keyName)];\n    };\n    return StyleAttributor;\n}(attributor_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = StyleAttributor;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/parchment/src/attributor/style.ts\n ** module id = 29\n ** module chunks = 2 4\n **/","import Delta from 'rich-text/lib/delta';\nimport Parchment from 'parchment';\nimport BreakBlot from './break';\nimport extend from 'extend';\n\n\nconst NEWLINE_LENGTH = 1;\n\n\nclass EmbedBlock extends Parchment.Embed {\n  attach() {\n    super.attach();\n    this.attributes = new Parchment.Attributor.Store(this.domNode);\n  }\n\n  delta() {\n    let value = {};\n    value[this.statics.blotName] = this.value();\n    return new Delta().insert(value, this.formats()).insert('\\n', this.attributes.values());\n  }\n}\nEmbedBlock.scope = Parchment.Scope.BLOCK_BLOT;\n// It is important for cursor behavior EmbedBlocks use tags that are block level elements\n\n\nclass Block extends Parchment.Block {\n  constructor(domNode) {\n    super(domNode);\n    this.optimize();\n  }\n\n  delta() {\n    return this.descendants(Parchment.Leaf).reduce((delta, leaf) => {\n      if (leaf.length() === 0) return delta;\n      if (leaf instanceof Parchment.Embed) {\n        var value = {};\n        value[leaf.statics.blotName] = leaf.value();\n      } else {\n        var value = leaf.value();\n      }\n      return delta.insert(value, bubbleFormats(leaf));\n    }, new Delta()).insert('\\n', this.formats());\n  }\n\n  formatAt(index, length, name, value) {\n    if (length <= 0) return;\n    if (Parchment.query(name, Parchment.Scope.BLOCK)) {\n      if (index + length === this.length()) {\n        this.format(name, value);\n      }\n    } else {\n      super.formatAt(index, Math.min(length, this.length() - index - 1), name, value);\n    }\n  }\n\n  insertAt(index, value, def) {\n    if (def != null) return super.insertAt(index, value, def);\n    if (value.length === 0) return;\n    let lines = value.split('\\n');\n    let text = lines.shift();\n    if (text.length > 0) {\n      if (index < this.length() - 1) {\n        super.insertAt(index, text);\n      } else {\n        this.children.tail.insertAt(this.children.tail.length(), text);\n      }\n    }\n    if (lines.length > 0) {\n      let next = this.split(index + text.length, true);\n      next.insertAt(0, lines.join('\\n'));\n    }\n  }\n\n  insertBefore(blot, ref) {\n    if (this.children.head instanceof BreakBlot) {\n      if (ref === this.children.head) ref = null;\n      this.children.head.remove();\n    }\n    super.insertBefore(blot, ref);\n  }\n\n  length() {\n    return super.length() + NEWLINE_LENGTH;\n  }\n\n  path(index) {\n    return super.path(index, true);\n  }\n\n  split(index, force = false) {\n    if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n      let clone = this.clone();\n      if (index === 0) {\n        this.parent.insertBefore(clone, this);\n        return this;\n      } else {\n        this.parent.insertBefore(clone, this.next);\n        return clone;\n      }\n    } else {\n      return super.split(index, force);\n    }\n  }\n}\nBlock.blotName = 'block';\nBlock.childless = 'break';\nBlock.tagName = 'P';\n\n\n// TODO remove duplicate\nfunction bubbleFormats(blot) {\n  if (blot == null) return {};\n  if (blot instanceof Block) return blot.formats();\n  let formats = typeof blot.formats === 'function' ? blot.formats() : {};\n  while (blot.parent != null && blot.parent.statics.scope === Parchment.Scope.INLINE_BLOT) {\n    blot = blot.parent;\n    if (typeof blot.formats === 'function') {\n      formats = extend(formats, blot.formats());\n    }\n  }\n  return formats;\n}\n\n\nexport { bubbleFormats, EmbedBlock, Block as default };\n\n\n\n/** WEBPACK FOOTER **\n ** ./blots/block.js\n **/","import Parchment from 'parchment';\n\n\nclass Break extends Parchment.Embed {\n  insertInto(parent, ref) {\n    if (parent.children.length === 0) {\n      super.insertInto(parent, ref);\n    }\n  }\n\n  length() {\n    return 0;\n  }\n\n  value() {\n    return '';\n  }\n}\nBreak.blotName = 'break';\nBreak.tagName = 'BR';\n\n\nexport default Break;\n\n\n\n/** WEBPACK FOOTER **\n ** ./blots/break.js\n **/","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {/**/}\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/extend/index.js\n **/","var clone = (function() {\n'use strict';\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n*/\nfunction clone(parent, circular, depth, prototype) {\n  var filter;\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    filter = circular.filter;\n    circular = circular.circular\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth == 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      child = new Buffer(parent.length);\n      parent.copy(child);\n      return child;\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n};\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n};\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n};\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n};\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n};\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/clone/clone.js\n **/","import Parchment from 'parchment';\nimport Emitter from './emitter';\nimport equal from 'deep-equal';\nimport logger from './logger';\n\n\nlet debug = logger('[quill:selection]');\n\nclass Range {\n  constructor(index, length = 0) {\n    this.index = index;\n    this.length = length;\n  }\n}\n\n\nclass Selection {\n  constructor(scroll, emitter) {\n    this.emitter = emitter;\n    this.scroll = scroll;\n    this.root = this.scroll.domNode;\n    this.cursor = Parchment.create('cursor', this);\n    // savedRange is last non-null range\n    this.lastRange = this.savedRange = new Range(0, 0);\n    ['keyup', 'mouseup', 'touchend', 'touchleave'].forEach((eventName) => {\n      this.root.addEventListener(eventName, () => {\n        // When range used to be a selection and user click within the selection,\n        // the range now being a cursor has not updated yet without setTimeout\n        setTimeout(this.update.bind(this, Emitter.sources.USER), 1);\n      });\n    });\n    this.emitter.on(Emitter.events.TEXT_CHANGE, (delta) => {\n      if (delta.length() > 0) {\n        this.update(Emitter.sources.SILENT);\n      }\n    });\n    this.update(Emitter.sources.SILENT);\n  }\n\n  focus() {\n    if (this.hasFocus()) return;\n    this.root.focus();\n    this.setRange(this.savedRange);\n  }\n\n  format(format, value) {\n    this.scroll.update();\n    let nativeRange = this.getNativeRange();\n    if (nativeRange == null || !nativeRange.native.collapsed || Parchment.query(format, Parchment.Scope.BLOCK)) return;\n    if (nativeRange.start.node !== this.cursor.textNode) {\n      let blot = Parchment.find(nativeRange.start.node, false);\n      if (blot == null) return;\n      // TODO Give blot ability to not split\n      if (blot instanceof Parchment.Leaf) {\n        let after = blot.split(nativeRange.start.offset);\n        blot.parent.insertBefore(this.cursor, after);\n      } else {\n        blot.insertBefore(this.cursor, nativeRange.start.node);  // Should never happen\n      }\n    }\n    this.cursor.format(format, value);\n    this.scroll.optimize();\n    this.setNativeRange(this.cursor.textNode, 1);\n    this.update();\n  }\n\n  getBounds(index, length = 0) {\n    let bounds, node, [leaf, offset] = findLeaf(this.scroll, index);\n    if (leaf == null) return null;\n    [node, offset] = leaf.position(offset, true);\n    let range = document.createRange();\n    if (length > 0) {\n      range.setStart(node, offset);\n      [leaf, offset] = findLeaf(this.scroll, index + length);\n      if (leaf == null) return null;\n      [node, offset] = leaf.position(offset, true);\n      range.setEnd(node, offset);\n      bounds = range.getBoundingClientRect();\n    } else {\n      let side = 'left';\n      if (node instanceof Text) {\n        if (offset < node.data.length) {\n          range.setStart(node, offset);\n          range.setEnd(node, offset + 1);\n        } else {\n          range.setStart(node, offset - 1);\n          range.setEnd(node, offset);\n          side = 'right';\n        }\n        let rect = range.getBoundingClientRect();\n        bounds = {\n          height: rect.height,\n          left: rect[side],\n          width: 0,\n          top: rect.top\n        };\n      } else {\n        bounds = leaf.domNode.getBoundingClientRect();\n        if (offset > 0) side = 'right';\n      }\n    }\n    let containerBounds = this.root.parentNode.getBoundingClientRect();\n    return {\n      left: bounds.left - containerBounds.left,\n      right: bounds.left + bounds.width - containerBounds.left,\n      top: bounds.top - containerBounds.top,\n      bottom: bounds.top + bounds.height - containerBounds.top,\n      height: bounds.height,\n      width: bounds.width\n    };\n  }\n\n  getNativeRange() {\n    let selection = document.getSelection();\n    if (selection == null || selection.rangeCount <= 0) return null;\n    let nativeRange = selection.getRangeAt(0);\n    if (nativeRange == null) return null;\n    if (nativeRange.startContainer !== this.root &&\n        !(nativeRange.startContainer.compareDocumentPosition(this.root) & Node.DOCUMENT_POSITION_CONTAINS)) {\n      return null;\n    }\n    if (!nativeRange.collapsed &&   // save a call to compareDocumentPosition\n        nativeRange.endContainer !== this.root &&\n        !(nativeRange.endContainer.compareDocumentPosition(this.root) & Node.DOCUMENT_POSITION_CONTAINS)) {\n      return null;\n    }\n    let range = {\n      start: { node: nativeRange.startContainer, offset: nativeRange.startOffset },\n      end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },\n      native: nativeRange\n    };\n    [range.start, range.end].forEach(function(position) {\n      let node = position.node, offset = position.offset;\n      while (!(node instanceof Text) && node.childNodes.length > 0) {\n        if (node.childNodes.length > offset) {\n          node = node.childNodes[offset];\n          offset = 0;\n        } else if (node.childNodes.length === offset) {\n          node = node.lastChild;\n          offset = node instanceof Text ? node.data.length : node.childNodes.length;\n        } else {\n          break;\n        }\n      }\n      position.node = node, position.offset = offset;\n    });\n    return range;\n  }\n\n  getRange() {\n    if (!this.hasFocus()) return [null, null];\n    let range = this.getNativeRange();\n    if (range == null) return [null, null];\n    let positions = [[range.start.node, range.start.offset]];\n    if (!range.native.collapsed) {\n      positions.push([range.end.node, range.end.offset]);\n    }\n    let indexes = positions.map((position) => {\n      let [node, offset] = position;\n      let blot = Parchment.find(node, true);\n      let index = blot.offset(this.scroll);\n      if (offset === 0) {\n        return index;\n      } else if (blot instanceof Parchment.Container) {\n        return index + blot.length();\n      } else {\n        return index + blot.index(node, offset);\n      }\n    });\n    let start = Math.min(...indexes), end = Math.max(...indexes);\n    return [new Range(start, end-start), range];\n  }\n\n  hasFocus() {\n    return document.activeElement === this.root;\n  }\n\n  scrollIntoView() {\n    if (this.lastRange == null) return;\n    let startBounds = this.getBounds(this.lastRange.start);\n    let endBounds = this.lastRange.collapsed ? startBounds : this.getBounds(this.lastRange.end);\n    let containerBounds = this.root.parentNode.getBoundingClientRect();\n    let containerHeight = containerBounds.bottom - containerBounds.top;\n    if (containerHeight < endBounds.top + endBounds.height) {\n      let [line, offset] = this.scroll.line(this.lastRange.end);\n      return line.node.scrollIntoView(false);\n    } else if (startBounds.top < 0) {\n      let [line, offset] = this.scroll.line(this.lastRange.start);\n      return line.node.scrollIntoView();\n    }\n  }\n\n  setNativeRange(startNode, startOffset, endNode = startNode, endOffset = startOffset) {\n    let selection = document.getSelection();\n    if (selection == null) return;\n    if (startNode != null) {\n      if (!this.hasFocus()) this.root.focus();\n      let nativeRange = this.getNativeRange();\n      if (nativeRange == null ||\n          startNode !== nativeRange.start.node || startOffset !== nativeRange.start.offset ||\n          endNode !== nativeRange.end.node || endOffset !== nativeRange.end.offset) {\n        let range = document.createRange();\n        range.setStart(startNode, startOffset);\n        range.setEnd(endNode, endOffset);\n        selection.removeAllRanges();\n        selection.addRange(range);\n      }\n    } else {\n      selection.removeAllRanges();\n      this.root.blur();\n      document.body.focus();  // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)\n    }\n  }\n\n  setRange(range, source = Emitter.sources.API) {\n    if (range != null) {\n      let indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\n      let args = [];\n      indexes.map((index, i) => {\n        let [leaf, offset] = findLeaf(this.scroll, index);\n        args.push.apply(args, leaf.position(offset, i !== 0));\n      });\n      this.setNativeRange(...args);\n    } else {\n      this.setNativeRange(null);\n    }\n    this.update(source);\n  }\n\n  update(source = Emitter.sources.USER) {\n    let nativeRange, oldRange = this.lastRange;\n    [this.lastRange, nativeRange] = this.getRange();\n    if (this.lastRange != null) {\n      this.savedRange = this.lastRange;\n    }\n    if (!equal(oldRange, this.lastRange)) {\n      if (nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\n        this.cursor.restore();\n      }\n      if (source === Emitter.sources.SILENT) return;\n      this.emitter.emit(Emitter.events.SELECTION_CHANGE, this.lastRange, source);\n    }\n  }\n}\n\n\nfunction findLeaf(blot, index) {\n  let path = blot.path(index);\n  if (path.length > 0) {\n    return path.pop();\n  } else {\n    return [null, -1]\n  }\n}\n\n\nexport { findLeaf, Range, Selection as default };\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/selection.js\n **/","import Emitter from './emitter';\nimport extend from 'extend';\nimport logger from './logger';\n\nlet debug = logger('[quill:theme]');\n\n\nclass Theme {\n  constructor(quill, options) {\n    this.quill = quill;\n    this.options = options;\n    this.modules = {};\n    this.quill.once(Emitter.events.READY, this.init.bind(this));\n  }\n\n  init() {\n    Object.keys(this.options.modules).forEach((name) => {\n      if (this.modules[name] == null) {\n        this.addModule(name);\n      }\n    });\n  }\n\n  addModule(name) {\n    let moduleClass = Theme.modules[name];\n    if (moduleClass == null) {\n      return debug.error(`Cannot load ${name} module. Are you sure you registered it?`);\n    }\n    let options = this.options.modules[name];\n    if (options === true) {  // Allow addModule('module', true)\n      options = {};\n    } else if (typeof options !== 'object' && !(options instanceof HTMLElement)) {\n      // Allow addModule('toolbar', '#toolbar');\n      options = { container: options };\n    }\n    options = extend(true, {}, moduleClass.DEFAULTS || {}, options);\n    this.modules[name] = new moduleClass(this.quill, options);\n    return this.modules[name];\n  }\n}\nTheme.DEFAULTS = {};\nTheme.themes = {\n  'default': Theme\n};\nTheme.modules = {};\n\n\nexport default Theme;\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/theme.js\n **/","import Parchment from 'parchment';\n\n\nclass Cursor extends Parchment.Embed {\n  constructor(domNode, selection) {\n    super(domNode);\n    this.selection = selection;\n    this.textNode = document.createTextNode(Cursor.CONTENTS);\n    this.domNode.appendChild(this.textNode);\n    this._length = 0;\n  }\n\n  format(name, value) {\n    if (this._length !== 0) {\n      return super.format(name, value);\n    }\n    let target = this, index = 0;\n    this._length = Cursor.CONTENTS.length;\n    while (target != null && target.statics.scope !== Parchment.Scope.BLOCK_BLOT) {\n      index += target.offset(target.parent);\n      target = target.parent;\n    }\n    if (target != null) {\n      target.formatAt(index, Cursor.CONTENTS.length, name, value);\n    }\n    this._length = 0;\n  }\n\n  index(node, offset) {\n    if (node === this.textNode) return 0;\n    return super.index(node, offset);\n  }\n\n  length() {\n    return this._length;\n  }\n\n  remove() {\n    super.remove();\n    this.parent = null;\n  }\n\n  restore() {\n    if (this.parent == null) return;\n    let textNode = this.textNode;\n    let range = this.selection.getNativeRange();\n    if (this.textNode.data !== Cursor.CONTENTS) {\n      let native = this.selection.getNativeRange();\n      this.textNode.data = this.textNode.data.split(Cursor.CONTENTS).join('');\n      this.parent.insertBefore(Parchment.create(this.textNode), this);\n      this.textNode = document.createTextNode(Cursor.CONTENTS);\n      this.domNode.appendChild(this.textNode);\n    }\n    this.remove();\n    if (range != null && range.start.node === textNode && range.end.node === textNode) {\n      this.selection.setNativeRange(textNode, Math.max(0, range.start.offset - 1), textNode, Math.max(0, range.end.offset - 1));\n    }\n  }\n\n  update(mutations) {\n    mutations.forEach((mutation) => {\n      if (mutation.type === 'characterData' && mutation.target === this.textNode) {\n        this.restore();\n      }\n    });\n  }\n\n  value() {\n    return '';\n  }\n}\nCursor.blotName = 'cursor';\nCursor.className = 'ql-cursor';\nCursor.tagName = 'span';\nCursor.CONTENTS = \"\\uFEFF\";   // Zero width space\n\n\nexport default Cursor;\n\n\n\n/** WEBPACK FOOTER **\n ** ./blots/cursor.js\n **/","import Parchment from 'parchment';\n\n\nclass Inline extends Parchment.Inline {\n  formatAt(index, length, name, value) {\n    if (Inline.compare(this.statics.blotName, name) < 0 && Parchment.query(name, Parchment.Scope.BLOT)) {\n      let blot = this.isolate(index, length);\n      blot.wrap(name, value);\n    } else {\n      super.formatAt(index, length, name, value);\n    }\n  }\n}\n\nInline.compare = function(self, other) {\n  return Inline.order.indexOf(self) - Inline.order.indexOf(other);\n};\n\n// Lower index means deeper in the DOM tree, since not found (-1) is for embeds\nInline.order = [\n  'cursor', 'inline',   // Must be lower\n  'code', 'underline', 'strike', 'bold', 'italic', 'script',\n  'link'                // Must be higher\n];\n\n\nexport default Inline;\n\n\n\n/** WEBPACK FOOTER **\n ** ./blots/inline.js\n **/","import Emitter from '../core/emitter';\nimport Block, { EmbedBlock } from './block';\nimport Parchment from 'parchment';\n\n\n// TODO move\nfunction clean(container) {\n  let walker = document.createTreeWalker(container, NodeFilter.SHOW_TEXT, null, false);\n  let node, textNodes = [];\n  while(node = walker.nextNode()) {\n    textNodes.push(node);\n  }\n  textNodes.forEach(function(textNode) {\n    if (Parchment.query(textNode.previousSibling, Parchment.Scope.BLOCK) ||\n        Parchment.query(textNode.nextSibling, Parchment.Scope.BLOCK)) {\n      textNode.parentNode.removeChild(textNode);\n    }\n  });\n  return container;\n}\n\nfunction isLine(blot) {\n  return (blot instanceof Block || blot instanceof EmbedBlock);\n}\n\n\nclass Scroll extends Parchment.Scroll {\n  constructor(domNode, emitter) {\n    super(clean(domNode));\n    this.emitter = emitter;\n    this.optimize();\n  }\n\n  deleteAt(index, length) {\n    let [first, firstOffset] = this.children.find(index);\n    let [last, lastOffset] = this.children.find(index + length);\n    super.deleteAt(index, length);\n    if (last != null && first !== last && firstOffset > 0) {\n      let lastChild = first.children.tail;\n      last.moveChildren(first);\n      last.remove();\n    }\n    this.optimize();\n  }\n\n  line(index) {\n    return this.descendant(isLine, index);\n  }\n\n  lines(index, length) {\n    return this.descendants(isLine, index, length);\n  }\n\n  path(index) {\n    return super.path(index).slice(1);  // Exclude self\n  }\n\n  update(mutations) {\n    let source = Emitter.sources.USER;\n    if (typeof mutations === 'string') {\n      source = mutations;\n    }\n    if (!Array.isArray(mutations)) {\n      mutations = this.observer.takeRecords();\n    }\n    super.update(mutations);\n    if (mutations.length > 0) {\n      this.emitter.emit(Emitter.events.SCROLL_UPDATE, source);\n    }\n  }\n}\nScroll.blotName = 'scroll';\nScroll.className = 'ql-editor';\nScroll.child = 'block';\nScroll.tagName = 'DIV';\n\n\nexport default Scroll;\n\n\n\n/** WEBPACK FOOTER **\n ** ./blots/scroll.js\n **/","import Delta from 'rich-text/lib/delta';\nimport Emitter from '../core/emitter';\nimport Module from '../core/module';\n\n\nclass Clipboard extends Module {\n  constructor(quill, options) {\n    super(quill, options);\n    this.quill.root.addEventListener('paste', this.onPaste.bind(this));\n    this.container = this.quill.addContainer('ql-clipboard');\n    this.container.setAttribute('contenteditable', true);\n  }\n\n  onPaste() {\n    let range = this.quill.getSelection();\n    if (range == null) return;\n    let updateDelta = new Delta().retain(range.index).delete(range.length);\n    this.container.focus();\n    setTimeout(() => {\n      let pasteDelta = this.options.sanitize(this.container);\n      this.container.innerHTML = '';\n      let lengthAdded = pasteDelta.length();\n      if (lengthAdded > 0) {\n        this.quill.updateContents(updateDelta.concat(pasteDelta), Emitter.sources.USER);\n      }\n      this.quill.setSelection(range.index + lengthAdded, Emitter.sources.SILENT);\n      this.quill.selection.scrollIntoView();\n    }, 0);\n  }\n}\nClipboard.DEFAULTS = {\n  sanitize: function(container) {\n    return new Delta().insert(container.innerText);\n  }\n};\n\n\nexport default Clipboard;\n\n\n\n/** WEBPACK FOOTER **\n ** ./modules/clipboard.js\n **/","import extend from 'extend';\n\n\nclass Module {\n  constructor(quill, options = {}) {\n    this.quill = quill;\n    this.options = extend({}, this.constructor.DEFAULTS, options);\n  }\n}\nModule.DEFAULTS = {};\n\n\nexport default Module;\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/module.js\n **/","import clone from 'clone';\nimport equal from 'deep-equal';\nimport Delta from 'rich-text/lib/delta';\nimport Parchment from 'parchment';\nimport Emitter from '../core/emitter';\nimport logger from '../core/logger';\nimport Module from '../core/module';\nimport { Range } from '../core/selection';\nimport Block from '../blots/block';\n\nlet debug = logger('quill:keyboard');\n\n\nclass Keyboard extends Module {\n  constructor(quill, options) {\n    super(quill, options);\n    this.bindings = {};\n    this.addBinding({ key: 'B', metaKey: true }, this.onFormat.bind(this, 'bold'));\n    this.addBinding({ key: 'I', metaKey: true }, this.onFormat.bind(this, 'italic'));\n    this.addBinding({ key: 'U', metaKey: true }, this.onFormat.bind(this, 'underline'));\n    this.addBinding({ key: Keyboard.keys.ENTER, shiftKey: null }, this.onEnter.bind(this));\n    this.addBinding({ key: Keyboard.keys.BACKSPACE }, this.onDelete.bind(this, true));\n    this.addBinding({ key: Keyboard.keys.DELETE }, this.onDelete.bind(this, false));\n    // TODO implement\n    // this.addBinding({ key: Keyboard.keys.BACKSPACE }, this.onDeleteWord.bind(this, true));\n    // this.addBinding({ key: Keyboard.keys.DELETE }, this.onDeleteWord.bind(this, false));\n    this.addBinding({ key: Keyboard.keys.TAB, shiftKey: null }, this.onTab.bind(this));\n    this.quill.root.addEventListener('keydown', (evt) => {\n      let which = evt.which || evt.keyCode;\n      let handlers = (this.bindings[which] || []).reduce(function(handlers, binding) {\n        let [key, handler] = binding;\n        if (match(evt, key)) handlers.push(handler);\n        return handlers;\n      }, []);\n      if (handlers.length > 0) {\n        let range = this.quill.getSelection();\n        handlers.forEach((handler) => {\n          handler(range, evt);\n        });\n        evt.preventDefault();\n      }\n    });\n  }\n\n  addBinding(binding, handler) {\n    binding = normalize(binding);\n    if (binding == null) {\n      return debug.warn('Attempted to add invalid keyboard binding', binding);\n    }\n    this.bindings[binding.key] = this.bindings[binding.key] || [];\n    this.bindings[binding.key].push([binding, handler]);\n  }\n\n  onDelete(backspace, range) {\n    if (range.length > 0) {\n      this.quill.deleteText(range, Emitter.sources.USER);\n    } else if (!backspace) {\n      this.quill.deleteText(range.index, 1, Emitter.sources.USER);\n    } else {\n      let [line, offset] = this.quill.scroll.descendant(Block, range.index);\n      let formats = this.quill.getFormat(range);\n      if (line != null && offset === 0 && (formats['indent'] || formats['list'])) {\n        if (formats['indent'] != null) {\n          line.format('indent', parseInt(formats['indent']) - 1, Emitter.sources.USER);\n        } else {\n          line.format('list', false);\n        }\n      } else {\n        this.quill.deleteText(range.index - 1, 1, Emitter.sources.USER);\n        range = new Range(Math.max(0, range.index - 1));\n      }\n    }\n    this.quill.setSelection(range.index, Emitter.sources.SILENT);\n  }\n\n  onEnter(range) {\n    let formats = this.quill.getFormat(range);\n    let lineFormats = Object.keys(formats).reduce(function(lineFormats, format) {\n      if (Parchment.query(format, Parchment.Scope.BLOCK)) {\n        lineFormats[format] = formats[format];\n      }\n      return lineFormats;\n    }, {});\n    let added = 1;\n    let delta = new Delta()\n      .retain(range.index)\n      .insert('\\n', lineFormats);\n    if (range.length === 0) {\n      let [line, offset] = quill.scroll.line(range.index);\n      // Browsers do not display a newline with just <pre>\\n</pre>\n      if (line.statics.blotName === 'code-block' &&\n          offset >= line.length() - 1 &&\n          this.quill.getText(range.index - 1, 1) !== '\\n') {\n        delta.insert('\\n', lineFormats);\n        added += 1;\n      }\n    } else {\n      delta.delete(range.length);\n    }\n    this.quill.updateContents(delta, Emitter.sources.USER);\n    this.quill.setSelection(range.index + added, Emitter.sources.SILENT);\n    Object.keys(formats).forEach((name) => {\n      if (lineFormats[name] == null) {\n        this.quill.format(name, formats[name]);\n      }\n    });\n  }\n\n  onFormat(format, range) {\n    let formats = this.quill.getFormat(range);\n    this.quill.format(format, !formats[format], Emitter.sources.USER);\n  }\n\n  onTab(range, evt) {\n    if (range.length === 0) {\n      let delta = new Delta().retain(range.index).insert('\\t').delete(range.length);\n      this.quill.updateContents(delta, Emitter.sources.USER);\n      this.quill.setSelection(range.index + 1, Emitter.sources.SILENT);\n    } else {\n      let modifier = evt.shiftKey ? -1 : 1;\n      this.quill.scroll.descendants(Block, range.index, range.length).forEach(function(line) {\n        let format = line.formats();\n        let indent = parseInt(format['indent'] || 0);\n        line.format('indent', Math.max(0, indent + modifier));\n      });\n      this.quill.update(Emitter.sources.USER);\n      this.quill.setSelection(range, Emitter.sources.SILENT);\n    }\n  }\n\n  removeAllBindings(binding, handler = null) {\n    binding = normalize(binding);\n    if (binding == null || this.bindings[binding.key] == null) return [];\n    let removed = [];\n    this.bindings[binding.key] = this.bindings[binding.key].filter(function(target) {\n      let [key, callback] = target;\n      if (equal(key, binding) && (handler == null || callback === handler)) {\n        removed.push(handler);\n        return false;\n      }\n      return true;\n    });\n    return removed;\n  }\n\n  removeBinding(binding, handler) {\n    this.removeAllBindings(binding, handler);\n  }\n}\n\nKeyboard.keys = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  ESCAPE: 27,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  DELETE: 46\n}\n\nfunction bindKeys(target, keys) {\n  target.addEventListener('keydown', function(evt) {\n    if (Object.keys(keys).some(function(key) {\n      let which = evt.which || evt.keyCode;\n      if (which === key || which === Keyboard.keys[key.toUpperCase()]) {\n        keys[key]();\n        return true;\n      }\n      return false;\n    })) {\n      event.preventDefault();\n    }\n  });\n}\n\nfunction match(evt, binding) {\n  let metaKey = /Mac/i.test(navigator.platform) ? evt.metaKey : evt.metaKey || evt.ctrlKey;\n  if (!!binding.metaKey !== metaKey && binding.metaKey !== null) return false;\n  if (!!binding.shiftKey !== evt.shiftKey && binding.shiftKey !== null) return false;\n  if (!!binding.altKey !== evt.altKey && binding.altKey !== null) return false;\n  return true;\n}\n\nfunction normalize(binding) {\n  switch (typeof binding) {\n    case 'string':\n      if (Keyboard.keys[binding.toUpperCase()] != null) {\n        binding = clone(Keyboard.keys[binding.toUpperCase()], false);\n      } else if (binding.length === 1) {\n        binding = { key: binding };\n      } else {\n        return null;\n      }\n      break;\n    case 'number':\n      binding = { key: binding };\n      break;\n    case 'object':\n      binding = clone(binding, false);\n      break;\n    default:\n      return null;\n  }\n  if (typeof binding.key === 'string') {\n    binding.key = binding.key.toUpperCase().charCodeAt(0);\n  }\n  return binding;\n}\n\n\nexport { Keyboard as default, bindKeys };\n\n\n\n/** WEBPACK FOOTER **\n ** ./modules/keyboard.js\n **/","import Emitter from '../core/emitter';\nimport Module from '../core/module';\n\n\nclass UndoManager extends Module {\n  constructor(quill, options) {\n    super(quill, options);\n    this.lastRecorded = 0;\n    this.ignoreChange = false;\n    this.clear();\n    this.quill.on(Emitter.events.TEXT_CHANGE, (delta, oldDelta, source) => {\n      if (this.ignoreChange) return;\n      if (!this.options.userOnly || source === Emitter.sources.USER) {\n        this.record(delta, oldDelta);\n      } else {\n        this.transform(delta);\n      }\n    });\n    this.quill.keyboard.addBinding({ key: 'Z', metaKey: true }, this.undo.bind(this));\n    this.quill.keyboard.addBinding({ key: 'Z', metaKey: true, shiftKey: true }, this.redo.bind(this));\n  }\n\n  change(source, dest) {\n    if (this.stack[source].length === 0) return;\n    let delta = this.stack[source].pop();\n    this.lastRecorded = 0;\n    this.ignoreChange = true;\n    this.quill.updateContents(delta[source], Emitter.sources.USER);\n    this.ignoreChange = false;\n    let index = getLastChangeIndex(delta[source]);\n    this.quill.setSelection(index);\n    this.stack[dest].push(delta);\n  }\n\n  clear() {\n    this.stack = { undo: [], redo: [] };\n  }\n\n  record(changeDelta, oldDelta) {\n    if (changeDelta.ops.length === 0) return;\n    this.stack.redo = [];\n    let undoDelta = this.quill.getContents().diff(oldDelta);\n    let timestamp = Date.now();\n    if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\n      let delta = this.stack.undo.pop();\n      undoDelta = undoDelta.compose(delta.undo);\n      changeDelta = delta.redo.compose(changeDelta);\n    } else {\n      this.lastRecorded = timestamp;\n    }\n    this.stack.undo.push({\n      redo: changeDelta,\n      undo: undoDelta\n    });\n    if (this.stack.undo.length > this.options.maxStack) {\n      this.stack.undo.unshift();\n    }\n  }\n\n  redo() {\n    this.change('redo', 'undo');\n  }\n\n  transform(delta) {\n    this.stack.undo.forEach(function(change) {\n      change.undo = delta.transform(change.undo, true);\n      change.redo = delta.transform(change.redo, true);\n    });\n    this.stack.redo.forEach(function(change) {\n      change.undo = delta.transform(change.undo, true);\n      change.redo = delta.transform(change.redo, true);\n    });\n  }\n\n  undo() {\n    this.change('undo', 'redo');\n  }\n}\nUndoManager.DEFAULTS = {\n  delay: 1000,\n  maxStack: 100,\n  userOnly: false\n};\n\nfunction getLastChangeIndex(delta) {\n  let index = 0, lastIndex = 0;\n  delta.ops.forEach(function(op) {\n    if (op.insert != null) {\n      lastIndex = Math.max(index + (op.insert.length || 1), lastIndex);\n    } else if (op[\"delete\"] != null) {\n      lastIndex = Math.max(index, lastIndex);\n    } else if (op.retain != null) {\n      if (op.attributes != null) {\n        lastIndex = Math.max(index + op.retain, lastIndex);\n      }\n      index += op.retain;\n    }\n  });\n  return lastIndex;\n}\n\n\nexport default UndoManager;\n\n\n\n/** WEBPACK FOOTER **\n ** ./modules/undo-manager.js\n **/","import Parchment from 'parchment';\n\nlet config = {\n  scope: Parchment.Scope.BLOCK,\n  whitelist: ['right', 'center', 'justify']\n};\n\nlet AlignClass = new Parchment.Attributor.Class('align', 'ql-align', config);\nlet AlignStyle = new Parchment.Attributor.Style('align', 'text-align', config);\n\nexport { AlignClass, AlignStyle };\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/align.js\n **/","import Parchment from 'parchment';\n\nlet config = {\n  scope: Parchment.Scope.BLOCK,\n  whitelist: ['rtl']\n};\n\nlet DirectionClass = new Parchment.Attributor.Class('direction', 'ql-direction', config);\nlet DirectionStyle = new Parchment.Attributor.Style('direction', 'direction', config);\n\nexport { DirectionClass, DirectionStyle };\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/direction.js\n **/","import Parchment from 'parchment';\n\nlet IndentClass = new Parchment.Attributor.Class('indent', 'ql-indent', {\n  scope: Parchment.Scope.BLOCK,\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\n});\n\nexport { IndentClass };\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/indent.js\n **/","import Block from '../blots/block';\n\n\nclass Blockquote extends Block {}\nBlockquote.blotName = 'blockquote';\nBlockquote.tagName = 'blockquote';\n\n\nexport default Blockquote;\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/blockquote.js\n **/","import Block from '../blots/block';\n\n\nclass Header extends Block {\n  formats() {\n    let format = super.formats();\n    format.header = Header.tagName.indexOf(this.domNode.tagName) + 1;\n    return format;\n  }\n}\nHeader.blotName = 'header';\nHeader.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n\n\nexport default Header;\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/header.js\n **/","import Delta from 'rich-text/lib/delta';\nimport Parchment from 'parchment';\nimport Block from '../blots/block';\n\n\nclass List extends Parchment.Container {\n  static create(value) {\n    if (value === 'ordered') {\n      value = 'OL';\n    } else if (value === 'bullet') {\n      value = 'UL';\n    }\n    return super.create(value);\n  }\n\n  optimize(mutations) {\n    super.optimize();\n    let next = this.next;\n    if (next instanceof List && next.prev === this && next.domNode.tagName === this.domNode.tagName) {\n      next.moveChildren(this);\n      next.remove();\n    }\n  }\n\n  replace(target) {\n    super.replace(target);\n    let item = Parchment.create('list-item');\n    this.moveChildren(item);\n    this.appendChild(item);\n  }\n}\nList.blotName = 'list';\nList.scope = Parchment.Scope.BLOCK_BLOT;\nList.tagName = ['OL', 'UL'];\n\n\nclass ListItem extends Block {\n  format(name, value) {\n    if (name === 'list' && !value) {\n      this.replaceWith(Parchment.create(this.statics.scope));\n    } else {\n      super.format(name, value);\n    }\n  }\n\n  formats() {\n    let format = super.formats();\n    format['list'] = this.parent.domNode.tagName === 'OL' ? 'ordered' : 'bullet';\n    delete format[this.statics.blotName];\n    return format;\n  }\n\n  replaceWith(name, value) {\n    this.parent.isolate(this.offset(this.parent), this.length());\n    let replacement = super.replaceWith(name, value);\n    replacement.parent.unwrap();\n    return replacement;\n  }\n}\nListItem.blotName = 'list-item';\nListItem.tagName = 'LI';\n\n\nexport { ListItem, List as default };\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/list.js\n **/","import Parchment from 'parchment';\n\nlet BackgroundClass = new Parchment.Attributor.Class('background', 'ql-bg', {\n  scope: Parchment.Scope.INLINE\n});\nlet BackgroundStyle = new Parchment.Attributor.Style('background', 'background-color', {\n  scope: Parchment.Scope.INLINE\n});\n\nexport { BackgroundClass, BackgroundStyle };\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/background.js\n **/","import Parchment from 'parchment';\n\nlet ColorClass = new Parchment.Attributor.Class('color', 'ql-color', {\n  scope: Parchment.Scope.INLINE\n});\nlet ColorStyle = new Parchment.Attributor.Style('color', 'color', {\n  scope: Parchment.Scope.INLINE\n});\n\nexport { ColorClass, ColorStyle };\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/color.js\n **/","import Parchment from 'parchment';\n\nlet config = {\n  scope: Parchment.Scope.INLINE,\n  whitelist: ['serif', 'monospace']\n};\n\nlet FontClass = new Parchment.Attributor.Class('font', 'ql-font', config);\nlet FontStyle = new Parchment.Attributor.Style('font', 'font-family', config);\n\nexport { FontStyle, FontClass };\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/font.js\n **/","import Parchment from 'parchment';\n\nlet SizeClass = new Parchment.Attributor.Class('size', 'ql-size', {\n  scope: Parchment.Scope.INLINE,\n  whitelist: ['small', 'large', 'huge']\n});\nlet SizeStyle = new Parchment.Attributor.Style('size', 'font-size', {\n  scope: Parchment.Scope.INLINE,\n  whitelist: ['10px', '18px', '32px']\n});\n\nexport { SizeClass, SizeStyle };\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/size.js\n **/","import Inline from '../blots/inline';\n\nclass Bold extends Inline { }\nBold.blotName = 'bold';\nBold.tagName = 'STRONG';\n\nexport default Bold;\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/bold.js\n **/","import Inline from '../blots/inline';\n\nclass Italic extends Inline { }\nItalic.blotName = 'italic';\nItalic.tagName = 'EM';\n\nexport default Italic;\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/italic.js\n **/","import Inline from '../blots/inline';\n\n\nclass Link extends Inline {\n  static create(value) {\n    let node = super.create(value);\n    if (typeof value === 'string') {\n      value = this.sanitize(value);\n      node.setAttribute('href', value);\n      node.setAttribute('title', value);\n    }\n    return node;\n  }\n\n  static sanitize(url) {\n    return url.replace(/[^-A-Za-z0-9+&@#/%?=~_|!:,.;\\(\\)]/g, '');\n  }\n\n  format(name, value) {\n    if (name !== 'link' || !value) return super.format(name, value);\n    value = this.constructor.sanitize(value);\n    this.domNode.setAttribute('href', value);\n    this.domNode.setAttribute('title', value);\n  }\n\n  formats() {\n    let format = super.formats();\n    format.link = this.domNode.getAttribute('href') || true;\n    return format;\n  }\n}\nLink.blotName = 'link';\nLink.tagName = 'A';\n\n\nexport default Link;\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/link.js\n **/","import Inline from '../blots/inline';\n\nclass Script extends Inline {\n  static create(value) {\n    if (value === 'super') {\n      return document.createElement('sup');\n    } else if (value === 'sub') {\n      return document.createElement('sub');\n    } else {\n      return super.create(value);\n    }\n  }\n\n  formats() {\n    let format = super.formats();\n    format.script = this.domNode.tagName === 'SUP' ? 'super' : 'sub';\n    return format;\n  }\n}\nScript.blotName = 'script';\nScript.tagName = ['SUB', 'SUP'];\n\nexport default Script;\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/script.js\n **/","import Inline from '../blots/inline';\n\nclass Strike extends Inline { }\nStrike.blotName = 'strike';\nStrike.tagName = 'S';\n\nexport default Strike;\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/strike.js\n **/","import Inline from '../blots/inline';\n\nclass Underline extends Inline { }\nUnderline.blotName = 'underline';\nUnderline.tagName = 'U';\n\nexport default Underline;\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/underline.js\n **/","import Parchment from 'parchment';\n\n\nclass Formula extends Parchment.Embed {\n  static create(value) {\n    let node = super.create(value);\n    if (typeof value === 'string') {\n      katex.render(value, node);\n      node.setAttribute('data-value', value);\n    }\n    node.setAttribute('contenteditable', false);\n    return node;\n  }\n\n  value() {\n    return this.domNode.getAttribute('data-value') || true;\n  }\n}\nFormula.blotName = 'formula';\nFormula.className = 'ql-formula';\nFormula.tagName = 'SPAN';\n\n\nexport default Formula;\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/formula.js\n **/","import Parchment from 'parchment';\nimport Link from './link';\n\n\nclass Image extends Parchment.Embed {\n  static create(value) {\n    let node = super.create(value);\n    if (typeof value === 'string') {\n      node.setAttribute('src', this.sanitize(value));\n    }\n    return node;\n  }\n\n  static match(url) {\n    return /^https?:\\/\\/.+\\.(jpe?g|gif|png)$/.test(url);\n  }\n\n  static sanitize(url) {\n    return Link.sanitize(url);\n  }\n\n  value() {\n    return this.domNode.getAttribute('src') || true;\n  }\n}\nImage.blotName = 'image';\nImage.tagName = 'IMG';\n\n\nexport default Image;\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/image.js\n **/","import { EmbedBlock } from '../blots/block';\nimport Link from './link';\n\n\nclass Video extends EmbedBlock {\n  static create(value) {\n    let node = super.create(value);\n    node.setAttribute('src', this.sanitize(value));\n    node.setAttribute('controls', true);\n    node.setAttribute('contenteditable', false);\n    return node;\n  }\n\n  static sanitize(url) {\n    return Link.sanitize(url);\n  }\n\n  constructor(domNode) {\n    super(domNode);\n    this.domNode.addEventListener('mouseenter', () => {\n      this.domNode.setAttribute('controls', true);\n    });\n    this.domNode.addEventListener('mouseleave', () => {\n      this.domNode.removeAttribute('controls');\n    });\n  }\n\n  format(name, value) {\n    if (name === 'height' || name === 'width') {\n      if (value) {\n        this.domNode.setAttribute(name, value);\n      } else {\n        this.domNode.removeAttribute(name);\n      }\n    } else {\n      super.format(name, value);\n    }\n  }\n\n  formats() {\n    let formats = {};\n    if (this.domNode.hasAttribute('height')) formats['height'] = this.domNode.getAttribute('height');\n    if (this.domNode.hasAttribute('width')) formats['width'] = this.domNode.getAttribute('width');\n    return formats;\n  }\n\n  value() {\n    return this.domNode.getAttribute('src') || true;\n  }\n}\nVideo.blotName = 'video';\nVideo.tagName = 'VIDEO';\n\n\nexport default Video;\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/video.js\n **/","import Delta from 'rich-text/lib/delta';\nimport Parchment from 'parchment';\nimport Block from '../blots/block';\nimport Inline from '../blots/inline';\n\n\nclass Code extends Inline {}\nCode.blotName = 'code';\nCode.tagName = 'CODE';\n\n\nclass CodeBlock extends Block {\n  delta() {\n    return this.domNode.innerText.split('\\n').reduce((delta, text) => {\n      return delta.insert(text).insert('\\n', this.formats());\n    }, new Delta());\n  }\n\n  format(name, value) {\n    if (name !== this.statics.blotName) return;\n    super.formatAt(name, value);\n  }\n\n  formatAt(index, length, name, value) {\n    if (name !== this.statics.blotName) return;\n    super.formatAt(index, length, name, value);\n  }\n\n  insertAt(index, value, def) {\n    if (def != null) return;  // Cannot insert embeds into code\n    if (index < this.length() - 1) {\n      let [child, offset] = this.children.find(index);\n      child.insertAt(offset, value);\n    } else {\n      this.children.tail.insertAt(this.children.tail.length(), value);\n    }\n  }\n\n  optimize(mutations) {\n    super.optimize(mutations);\n    let next = this.next;\n    if (next instanceof CodeBlock && next.prev === this) {\n      next.moveChildren(this);\n      next.remove();\n    }\n  }\n}\nCodeBlock.blotName = 'code-block';\nCodeBlock.tagName = 'PRE';\n\n\nexport { Code, CodeBlock as default };\n\n\n\n/** WEBPACK FOOTER **\n ** ./formats/code.js\n **/","import Emitter from '../core/emitter';\nimport ImageBlot from '../formats/image';\nimport { bindKeys } from './keyboard';\nimport Module from '../core/module';\n\n\nclass ImageTooltip extends Module {\n  constructor(quill, options) {\n    super(quill, options);\n    this.container = this.quill.addContainer('ql-image-tooltip');\n    this.container.classList.add('ql-hidden');\n    this.container.classList.add('ql-tooltip');\n    this.container.innerHTML = options.template;\n    this.preview = this.container.querySelector('.ql-preview');\n    this.textbox = this.container.querySelector('input[type=text]');\n    bindKeys(this.textbox, {\n      'enter': this.save.bind(this),\n      'escape': this.hide.bind(this)\n    });\n    this.container.querySelector('a.ql-action').addEventListener('click', this.save.bind(this));\n    this.container.querySelector('a.ql-cancel').addEventListener('click', this.hide.bind(this));\n    this.textbox.addEventListener('input', this.update.bind(this));\n  }\n\n  center() {\n    this.container.style.left = (this.quill.container.offsetWidth/2 - this.container.offsetWidth/2) + 'px';\n    this.container.style.top = (this.quill.container.offsetHeight/2 - this.container.offsetHeight/2) + 'px';\n  }\n\n  hide() {\n    this.container.classList.add('ql-hidden');\n    if (this.preview.firstChild != null) {\n      this.preview.removeChild(this.preview.firstChild);\n      this.preview.classList.add('ql-empty');\n    }\n    this.quill.focus();\n  }\n\n  save() {\n    let range = this.quill.getSelection(true);\n    let index = range.index + range.length;\n    this.quill.insertEmbed(index, ImageBlot.blotName, this.textbox.value, Emitter.sources.USER);\n    this.quill.setSelection(index + 1, Emitter.sources.SILENT);\n    this.hide();\n  }\n\n  show() {\n    this.container.classList.remove('ql-hidden');\n    this.textbox.focus();\n    this.center();\n    return true;\n  }\n\n  update() {\n    if (!ImageBlot.match(this.textbox.value)) return;\n    let url = ImageBlot.sanitize(this.textbox.value);\n    if (this.preview.firstChild != null) {\n      this.preview.firstChild.setAttribute('src', url);\n    } else {\n      let img = document.createElement('img');\n      img.setAttribute('src', url);\n      this.preview.appendChild(img);\n      this.preview.classList.remove('ql-empty');\n    }\n  }\n}\nImageTooltip.DEFAULTS = {\n  template: [\n    '<input class=\"input\" type=\"text\">',\n    '<div class=\"ql-empty ql-preview\"></div>',\n    '<a class=\"ql-cancel\"></a>',\n    '<a class=\"ql-action\"></a>'\n  ].join('')\n};\n\n\nexport default ImageTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./modules/image-tooltip.js\n **/","import Emitter from '../core/emitter';\nimport { bindKeys } from './keyboard';\nimport LinkBlot from '../formats/link';\nimport Module from '../core/module';\nimport { Range } from '../core/selection';\n\n\nclass LinkTooltip extends Module {\n  constructor(quill, options = {}) {\n    super(quill, options);\n    this.container = this.quill.addContainer('ql-link-tooltip');\n    this.container.classList.add('ql-tooltip');\n    this.hide();\n    this.container.innerHTML = this.options.template;\n    this.preview = this.container.querySelector('a.ql-preview');\n    this.textbox = this.container.querySelector('input[type=text]');\n    bindKeys(this.textbox, {\n      'enter': this.save.bind(this),\n      'escape': this.hide.bind(this)\n    });\n    this.container.querySelector('a.ql-action').addEventListener('click', () => {\n      if (this.container.classList.contains('ql-editing')) {\n        this.save();\n      } else {\n        this.edit();\n      }\n    });\n    this.container.querySelector('a.ql-remove').addEventListener('click', this.remove.bind(this));\n    // quill.keyboard.addBinding({ key: 'K', metaKey: true }, this.show.bind(this));\n    quill.on(Emitter.events.SELECTION_CHANGE, (range) => {\n      if (range != null && range.length === 0) {\n        let offset;\n        [this.link, offset] = this.quill.scroll.descendant(LinkBlot, range.index);\n        if (this.link != null) {\n          this.range = new Range(range.index - offset, this.link.length());\n          return this.show();\n        }\n      }\n      this.hide();\n    });\n  }\n\n  edit() {\n    this.container.classList.add('ql-editing');\n    this.textbox.focus();\n    this.textbox.setSelectionRange(0, this.textbox.value.length);\n  }\n\n  open() {\n    this.range = new Range(this.quill.selection.savedRange.index, this.quill.selection.savedRange.length);\n    this.show();\n    this.edit();\n  }\n\n  hide() {\n    this.range = this.link = null;\n    this.container.classList.add('ql-hidden');\n  }\n\n  position(bounds) {\n    this.container.style.left = (bounds.left + bounds.width/2 - this.container.offsetWidth/2) + 'px';\n    this.container.style.top = (bounds.bottom + this.options.offset) + 'px';\n  }\n\n  remove() {\n    this.quill.formatText(this.range, 'link', false, Emitter.sources.USER);\n    this.quill.setSelection(this.range, Emitter.sources.SILENT);\n    this.hide();\n  }\n\n  save() {\n    let url = this.textbox.value;\n    this.quill.formatText(this.range, 'link', url, Emitter.sources.USER);\n    this.quill.setSelection(this.range, Emitter.sources.SILENT);\n    this.hide();\n  }\n\n  show() {\n    this.container.classList.remove('ql-editing');\n    this.container.classList.remove('ql-hidden');\n    let preview, bounds;\n    let range = this.quill.selection.savedRange;\n    if (this.link != null) {\n      preview = this.link.formats()['link'];\n    } else {\n      preview = this.quill.getText(range);\n    }\n    this.preview.textContent = this.textbox.value = preview;\n    this.preview.setAttribute('href', preview);\n    this.position(this.quill.getBounds(this.range));\n  }\n}\nLinkTooltip.DEFAULTS = {\n  offset: 10,\n  template: [\n    '<a class=\"ql-preview\" target=\"_blank\" href=\"about:blank\"></a>',\n    '<input type=\"text\">',\n    '<a class=\"ql-action\"></a>',\n    '<a class=\"ql-remove\"></a>'\n  ].join('')\n};\n\n\nexport default LinkTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./modules/link-tooltip.js\n **/","import extend from 'extend';\nimport Emitter from '../core/emitter';\nimport Parchment from 'parchment';\nimport Module from '../core/module';\nimport logger from '../core/logger';\n\nlet debug = logger('quill:toolbar');\n\n\nclass Toolbar extends Module {\n  constructor(quill, options) {\n    super(quill, options);\n    if (typeof this.options.container === 'string') {\n      this.options.container = document.querySelector(this.options.container);\n    } else if (Array.isArray(this.options.container)) {\n      let container = document.createElement('div');\n      addControls(container, options.container);\n      quill.container.parentNode.insertBefore(container, quill.container);\n      this.options.container = container;\n    }\n    if (!(this.options.container instanceof HTMLElement)) {\n      return debug.error('Container required for toolbar', this.options);\n    }\n    this.container = this.options.container;\n    this.container.classList.add('ql-toolbar');\n    this.container.classList.toggle('ios', /iPhone|iPad/i.test(navigator.userAgent));\n    this.controls = [];\n    this.handlers = {};\n    [].forEach.call(this.container.querySelectorAll('a, button, input[type=button], select'), (input) => {\n      this.attach(input);\n    });\n    this.quill.on(Emitter.events.SELECTION_CHANGE, this.update, this)\n              .on(Emitter.events.TEXT_CHANGE, this.update, this);\n  }\n\n  attach(input) {\n    let format = [].find.call(input.classList, (className) => {\n      return className.indexOf('ql-') === 0;\n    });\n    if (!format) return;\n    format = format.slice('ql-'.length);\n    // if (this.quill.options.formats.indexOf(format) < 0) return;  // TODO enable\n    let eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n    input.addEventListener(eventName, () => {\n      this.quill.focus();\n      let value;\n      if (input.tagName === 'SELECT') {\n        value = input.options[input.selectedIndex].value || false;\n      } else {\n        value = input.classList.contains('ql-active') ? false : input.getAttribute('data-value') || true;\n      }\n      if (this.handlers[format]) {\n        if (this.handlers[format](value)) return;\n      }\n      this.quill.format(format, value, Emitter.sources.USER);\n    });\n    // TODO use weakmap\n    this.controls.push([format, input]);\n  }\n\n  update() {\n    let range = this.quill.getSelection();\n    if (range == null) return;\n    let formats = this.quill.getFormat(range);\n    this.controls.forEach(function(pair) {\n      let [format, input] = pair;\n      if (input.tagName === 'SELECT') {\n        if (formats[format] == null) {\n          input.querySelector('option[selected]').selected = true;\n        } else {\n          // TODO never reports array\n          input.value = Array.isArray(formats[format]) ? '' : formats[format];\n        }\n      } if (input.hasAttribute('data-value')) {\n        input.classList.toggle('ql-active', input.getAttribute('data-value') == formats[format]);  // Intentional ==\n      } else {\n        input.classList.toggle('ql-active', formats[format]);\n      }\n    });\n  }\n}\nToolbar.DEFAULTS = {\n  container: null\n};\n\n\nfunction addButton(container, format, value) {\n  let input = document.createElement('button');\n  input.classList.add('ql-' + format);\n  if (value != null) {\n    input.setAttribute('data-value', value);\n  }\n  container.appendChild(input);\n}\n\nfunction addControls(container, groups) {\n  if (!Array.isArray(groups[0])) {\n    groups = [groups];\n  }\n  groups.forEach(function(controls) {\n    let group = document.createElement('span');\n    group.classList.add('ql-formats');\n    controls.forEach(function(control) {\n      if (typeof control === 'string') {\n        addButton(group, control);\n      } else {\n        let format = Object.keys(control)[0];\n        let value = control[format];\n        if (Array.isArray(value)) {\n          addSelect(group, format, value);\n        } else {\n          addButton(group, format, value);\n        }\n      }\n    });\n    container.appendChild(group);\n  });\n}\n\nfunction addSelect(container, format, values) {\n  let input = document.createElement('select');\n  input.classList.add('ql-' + format);\n  values.forEach(function(value) {\n    let option = document.createElement('option');\n    if (value !== false) {\n      option.setAttribute('value', value);\n    } else {\n      option.setAttribute('selected', 'selected');\n    }\n    input.appendChild(option);\n  });\n  container.appendChild(input);\n}\n\n\nexport { Toolbar as default, addControls };\n\n\n\n/** WEBPACK FOOTER **\n ** ./modules/toolbar.js\n **/","import BaseTheme from './base';\nimport Emitter from '../core/emitter';\nimport icons from '../ui/icons';\nimport { bindKeys } from '../modules/keyboard';\n\n\nclass BubbleTheme extends BaseTheme {\n  constructor(quill, options) {\n    super(quill, options);\n    this.quill.container.classList.add('ql-bubble');\n  }\n\n  buildLinkEditor(toolbar) {\n    let container = document.createElement('div');\n    container.classList.add('ql-link-editor');\n    let input = document.createElement('input');\n    input.setAttribute('type', 'text');\n    let close = document.createElement('a');\n    container.appendChild(input);\n    container.appendChild(close);\n    this.tooltip.appendChild(container);\n    this.quill.on(Emitter.events.SELECTION_CHANGE, (range) => {\n      if (range != null && range.length > 0) {\n        this.tooltip.classList.remove('ql-editing');\n        this.tooltip.classList.remove('ql-hidden');\n        this.position(this.quill.getBounds(range));\n      } else if (document.activeElement !== input) {\n        this.tooltip.classList.add('ql-hidden');\n      }\n    });\n    // TODO handle line height changing like with header formatting\n    toolbar.handlers['link'] = (value) => {\n      if (!value) return false;\n      this.tooltip.classList.add('ql-editing');\n      input.focus();\n    };\n    close.addEventListener('click', () => {\n      this.tooltip.classList.remove('ql-editing');\n    });\n    bindKeys(input, {\n      'enter': () => {\n        this.quill.focus();\n        this.quill.format('link', input.value);\n        this.tooltip.classList.add('ql-hidden');\n        input.value = '';\n      },\n      'escape': () => {\n        this.tooltip.classList.remove('ql-editing');\n      }\n    });\n  }\n\n  extendToolbar(toolbar) {\n    this.tooltip = this.quill.addContainer('ql-tooltip', this.quill.root);\n    this.buildLinkEditor(toolbar);\n    this.tooltip.appendChild(toolbar.container);\n    this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')));\n    this.tooltip.classList.add('ql-hidden');\n  }\n\n  position(bounds) {\n    this.tooltip.style.left = (bounds.left + bounds.width/2 - this.tooltip.offsetWidth/2) + 'px';\n    this.tooltip.style.top = (bounds.bottom + 10) + 'px';\n  }\n}\nBubbleTheme.DEFAULTS = {\n  modules: {\n    toolbar: {\n      container: [\n        ['bold', 'italic', 'link'],\n        [{ header: 1 }, { header: 2 }, 'blockquote']\n      ]\n    }\n  }\n}\n\n\nexport default BubbleTheme;\n\n\n\n/** WEBPACK FOOTER **\n ** ./themes/bubble.js\n **/","import Emitter from '../core/emitter';\nimport Theme from '../core/theme';\nimport Picker from '../ui/picker';\nimport icons from '../ui/icons';\nimport { bindKeys } from '../modules/keyboard';\n\n\nclass BaseTheme extends Theme {\n  addModule(name) {\n    let module = super.addModule(name);\n    if (name === 'toolbar') {\n      this.extendToolbar(module);\n    }\n    return module;\n  }\n\n  buildButtons(buttons) {\n    buttons.forEach(function(button) {\n      let className = button.getAttribute('class') || '';\n      let names = className.split(/\\s+/);\n      for (let i in names) {\n        let name = names[i].slice('ql-'.length);\n        if (icons[name] == null) return;\n        if (typeof icons[name] === 'string') {\n          button.innerHTML = icons[name];\n        } else {\n          let value = button.getAttribute('data-value') || '';\n          if (value != null && icons[name][value]) {\n            button.innerHTML = icons[name][value];\n          }\n        }\n      }\n    });\n  }\n}\nBaseTheme.DEFAULTS = {};\n\n\nexport default BaseTheme;\n\n\n\n/** WEBPACK FOOTER **\n ** ./themes/base.js\n **/","import DropdownIcon from '../assets/icons/dropdown.svg';\n\n\nclass Picker {\n  constructor(select) {\n    this.select = select;\n    this.container = document.createElement('span');\n    this.buildPicker();\n    this.select.style.display = 'none';\n    this.select.parentNode.insertBefore(this.container, this.select);\n    this.label.addEventListener('click', () => {\n      this.container.classList.toggle('ql-expanded');\n    });\n    this.select.addEventListener('change', this.update.bind(this));\n  }\n\n  buildItem(option) {\n    let item = document.createElement('span');\n    item.classList.add('ql-picker-item');\n    if (option.hasAttribute('value')) {\n      item.setAttribute('data-value', option.getAttribute('value'));\n    }\n    item.addEventListener('click', this.selectItem.bind(this, item, true));\n    return item;\n  }\n\n  buildLabel() {\n    let label = document.createElement('span');\n    label.classList.add('ql-picker-label');\n    label.innerHTML = DropdownIcon;\n    this.container.appendChild(label);\n    return label;\n  }\n\n  buildOptions() {\n    let options = document.createElement('span');\n    options.classList.add('ql-picker-options');\n    [].slice.call(this.select.options).forEach((option) => {\n      let item = this.buildItem(option);\n      options.appendChild(item);\n      if (option.hasAttribute('selected')) {\n        this.selectItem(item);\n      }\n    });\n    this.container.appendChild(options);\n  }\n\n  buildPicker() {\n    [].slice.call(this.select.attributes).forEach((item) => {\n      this.container.setAttribute(item.name, item.value);\n    });\n    this.container.classList.add('ql-picker');\n    this.label = this.buildLabel();\n    this.buildOptions();\n  }\n\n  close() {\n    this.container.classList.remove('ql-expanded');\n  }\n\n  selectItem(item, trigger = false) {\n    let selected = this.container.querySelector('.ql-selected');\n    if (selected != null) {\n      selected.classList.remove('ql-selected');\n    }\n    if (item != null) {\n      let value = item.getAttribute('data-value');\n      item.classList.add('ql-selected');\n      this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);\n      this.label.setAttribute('data-value', value || '');\n      if (trigger) {\n        this.select.dispatchEvent(new Event('change'));\n      }\n    } else {\n      this.label.removeAttribute('data-value');\n    }\n    this.close();\n  }\n\n  update() {\n    let item, option;\n    if (this.select.selectedIndex > -1) {\n      item = this.container.querySelectorAll('.ql-picker-item')[this.select.selectedIndex];\n      option = this.select.options[this.select.selectedIndex];\n    }\n    this.selectItem(item);\n    let isActive = option !== this.select.querySelector('option[selected]');\n    this.label.classList.toggle('ql-active', isActive);\n  }\n}\n\n\nexport default Picker;\n\n\n\n/** WEBPACK FOOTER **\n ** ./ui/picker.js\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/dropdown.svg\n ** module id = 69\n ** module chunks = 2 4\n **/","module.exports = {\n  'align': {\n    ''        : require('../assets/icons/align-left.svg'),\n    'center'  : require('../assets/icons/align-center.svg'),\n    'right'   : require('../assets/icons/align-right.svg'),\n    'justify' : require('../assets/icons/align-justify.svg')\n  },\n  'background': require('../assets/icons/background.svg'),\n  'blockquote': require('../assets/icons/blockquote.svg'),\n  'bold'      : require('../assets/icons/bold.svg'),\n  'color'     : require('../assets/icons/color.svg'),\n  'italic'    : require('../assets/icons/italic.svg'),\n  'header': {\n    '1'       : require('../assets/icons/header.svg'),\n    '2'       : require('../assets/icons/header-2.svg')\n  },\n  'image'     : require('../assets/icons/image.svg'),\n  'link'      : require('../assets/icons/link.svg'),\n  'list': {\n    'ordered' : require('../assets/icons/list-ordered.svg'),\n    'bullet'  : require('../assets/icons/list-bullet.svg')\n  },\n  'strike'    : require('../assets/icons/strike.svg'),\n  'underline' : require('../assets/icons/underline.svg')\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./ui/icons.js\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/align-left.svg\n ** module id = 71\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/align-center.svg\n ** module id = 72\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/align-right.svg\n ** module id = 73\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/align-justify.svg\n ** module id = 74\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/background.svg\n ** module id = 75\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/blockquote.svg\n ** module id = 76\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/bold.svg\n ** module id = 77\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/color.svg\n ** module id = 78\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/italic.svg\n ** module id = 79\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=3 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=11 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=3 y1=9 y2=9></line> <line class=\\\"ql-stroke ql-thin\\\" x1=13.5 x2=15.5 y1=14.5 y2=14.5></line> <path class=ql-fill d=M14.5,15a0.5,0.5,0,0,1-.5-0.5V12.085l-0.276.138A0.5,0.5,0,0,1,13.053,12c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,15,11.5v3A0.5,0.5,0,0,1,14.5,15Z></path> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/header.svg\n ** module id = 80\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=3 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=11 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=3 y1=9 y2=9></line> <path class=\\\"ql-stroke ql-thin\\\" d=M15.5,14.5h-2c0-.234,1.85-1.076,1.85-2.234a0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/header-2.svg\n ** module id = 81\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/image.svg\n ** module id = 82\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/link.svg\n ** module id = 83\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/list-ordered.svg\n ** module id = 84\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/list-bullet.svg\n ** module id = 85\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/strike.svg\n ** module id = 86\n ** module chunks = 2 4\n **/","module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/underline.svg\n ** module id = 87\n ** module chunks = 2 4\n **/","import Emitter from '../core/emitter';\nimport BaseTheme from './base';\nimport ColorPicker from '../ui/color-picker';\nimport IconPicker from '../ui/icon-picker';\nimport Picker from '../ui/picker';\nimport icons from '../ui/icons';\n\n\nconst COLORS = [\n  \"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008A00\", \"#0066cc\", \"#9933ff\",\n  \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\",\n  \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\",\n  \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\",\n  \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"\n];\n\nclass SnowTheme extends BaseTheme {\n  constructor(quill, options) {\n    super(quill, options);\n    this.quill.container.classList.add('ql-snow');\n    this.pickers = [];\n    document.body.addEventListener('click', (e) => {\n      this.pickers.forEach(function(picker) {\n        if (!(e.target.compareDocumentPosition(picker.container) & Node.DOCUMENT_POSITION_CONTAINS)) {\n          picker.close();\n        }\n      });\n    });\n    this.quill.on(Emitter.events.SELECTION_CHANGE, this.updatePickers, this)\n              .on(Emitter.events.TEXT_CHANGE, this.updatePickers, this);\n  }\n\n  buildPickers(selects) {\n    selects.forEach((select) => {\n      if (select.classList.contains('ql-align')) {\n        this.pickers.push(new IconPicker(select, icons.align));\n      } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\n        let format = select.classList.contains('ql-background') ? 'background' : 'color';\n        if (select.querySelector('option') == null) {\n          let defaultColor = format === 'background' ? '#ffffff' : '#000000';\n          COLORS.forEach(function(color) {\n            let option = document.createElement('option');\n            if (color === defaultColor) {\n              option.setAttribute('selected', 'selected');\n            } else {\n              option.setAttribute('value', color);\n            }\n            select.appendChild(option);\n          });\n        }\n        let picker = new ColorPicker(select, icons[format]);\n        this.pickers.push(picker);\n      } else if (select.classList.contains('ql-font')) {\n        this.pickers.push(new Picker(select));\n      } else if (select.classList.contains('ql-size')) {\n        this.pickers.push(new Picker(select));\n      }\n    });\n  }\n\n  extendToolbar(toolbar) {\n    toolbar.container.classList.add('ql-snow');\n    this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')));\n    this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')));\n    this.imageTooltip = this.addModule('image-tooltip');\n    this.linkTooltip = this.addModule('link-tooltip');\n    toolbar.handlers['image'] = this.imageTooltip.show.bind(this.imageTooltip);\n    toolbar.handlers['link'] = (value) => {\n      if (!value) return false;\n      this.linkTooltip.open(this.quill.selection.savedRange);\n      return true;\n    }\n  }\n\n  updatePickers() {\n    this.pickers.forEach(function(picker) {\n      picker.update();\n    });\n  }\n}\nSnowTheme.DEFAULTS = {\n  modules: {\n    'toolbar': {\n      container: [\n        [{ font: [false, 'serif', 'monospace'] }, { size: ['small', false, 'large', 'huge'] }],\n        ['bold', 'italic', 'underline', 'strike'],\n        [{ color: [] }, { background: [] }],\n        [{ list: 'ordered' }, { list: 'bullet' }, { align: [false, 'center', 'right', 'justify'] }],\n        ['link', 'image']\n      ]\n    }\n  }\n}\n\n\nexport default SnowTheme;\n\n\n\n/** WEBPACK FOOTER **\n ** ./themes/snow.js\n **/","import Picker from './picker';\n\n\nclass ColorPicker extends Picker {\n  constructor(select, label) {\n    super(select);\n    this.label.innerHTML = label;\n    this.container.classList.add('ql-color-picker');\n    [].slice.call(this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function(item) {\n      item.classList.add('ql-primary');\n    });\n  }\n\n  buildItem(option) {\n    let item = super.buildItem(option);\n    item.style.backgroundColor = option.getAttribute('value') || '';\n    return item;\n  }\n\n  selectItem(item, trigger) {\n    super.selectItem(item, trigger);\n    // let colorLabel = this.label.querySelector('.ql-color-label');\n    // let value = item ? item.getAttribute('data-value') : '';\n    // if (colorLabel) {\n    //   if (colorLabel.tagName === 'line') {\n    //     colorLabel.style.stroke = value;\n    //   } else {\n    //     colorLabel.style.fill = value;\n    //   }\n    // }\n  }\n}\n\n\nexport default ColorPicker;\n\n\n\n/** WEBPACK FOOTER **\n ** ./ui/color-picker.js\n **/","import Picker from './picker';\n\n\nclass IconPicker extends Picker {\n  constructor(select, icons) {\n    super(select);\n    this.container.classList.add('ql-icon-picker');\n    [].forEach.call(this.container.querySelectorAll('.ql-picker-item'), (item) => {\n      item.innerHTML = icons[item.getAttribute('data-value') || ''];\n    });\n    this.selectItem(this.container.querySelector('.ql-selected'));\n  }\n\n  selectItem(item, trigger) {\n    super.selectItem(item, trigger);\n    this.label.innerHTML = item.innerHTML;\n  }\n}\n\n\nexport default IconPicker;\n\n\n\n/** WEBPACK FOOTER **\n ** ./ui/icon-picker.js\n **/"],"sourceRoot":""}